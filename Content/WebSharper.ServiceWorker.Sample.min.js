import { Start as fJ } from "./WebSharper.Core.JavaScript/Runtime.js"
import { MarkResizable as fK, SetOptional as fL, Lazy as fM, GetOptional as fN, CreateFuncWithArgs as fO, DeleteEmptyFields as fP, Create as fQ, OnLoad as fR } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fS){ return"Dispose"in fS;}
function b(){ const fS=null;F(C(() => D(N(c()), () => E(null))), null);const fT=d().View;const fU=new n("New_1");const fV=(fU.h.push(new S("status", fT)),fU);const fW=V(fV.k, fV.h, []);const fX=new i(fW[1], A(fW[0]));let fY=(fV.i=fX,fX);const fZ=fY.Doc;X("");be.RunById("main", fZ);}
function c(){ try { return(globalThis.navigator.serviceWorker.register("service-worker.js").then(() => d().Set("Service Worker registered!")))["catch"]((fT) => d().Set("Service Worker failed: "+String(fT)));} catch(fT){ const fS=null;return new Promise((fU) => { fU((d().Set("Service Workers error: "+String(fT.message)+"."),Promise.resolve(null)));});} }
function d(){ return U.status;}
function e(fS){ throw new Error(fS);}
function f(fS){ return[fS.K, fS.V];}
function g(fS, fT){ const fU=1+fT-fS;return fU<=0?[]:bw(fU, (fV) => fV+fS);}
class h { Equals(fS){ return this===fS;} GetHashCode(){ return -1;} }
class i extends h { doc;allVars;anchorRoot;get Doc(){ return this.doc;} constructor(fS, fT){ super();this.doc=fT;this.allVars=fS.$==0?fS.$0:e("Should not happen");this.anchorRoot=null;} }
function j(fS, fT){ l(fS, fT);return fS[fT];}
function k(fS, fT, fU){ l(fS, fT);fS[fT]=fU;}
function l(fS, fT){ if(fT<0||fT>=fS.length)e("Index was outside the bounds of the array.");}
function m(fS){ return fS.dims===2?fS.length*fS.length:fS.length;}
class n extends h { i;k;h;s;static New_1(){ return new this("New_1");} constructor(fS){ if(fS=="New_1"){ let fT;super();this.i=null;this.k=(fT=T(),String(fT));this.h=fK([]);fL(this, "s", null);} } }
class o extends h { }
function p(fS, fT){ if(fS===fT)return true;else { const fU=typeof fS;if(fU=="object"){ if(fS===null||fS===void 0||fT===null||fT===void 0||!p(typeof fT, "object"))return false;else if("Equals"in fS)return fS.Equals(fT);else if("Equals"in fT)return false;else if(fS instanceof Array&&fT instanceof Array)return q(fS, fT);else if(fS instanceof Date&&fT instanceof Date)return r(fS, fT);else { const fV=[true];let fW;for(var fY in fS)if(((fZ) => { fV[0]=!fS.hasOwnProperty(fZ)||fT.hasOwnProperty(fZ)&&p(fS[fZ], fT[fZ]);return!fV[0];})(fY))break;if(fV[0]){ let fX;for(var fZ in fT)if(((f0) => { fV[0]=!fT.hasOwnProperty(f0)||fS.hasOwnProperty(f0);return!fV[0];})(fZ))break;} return fV[0];} } else return fU=="function"&&("$Func"in fS?fS.$Func===fT.$Func&&fS.$Target===fT.$Target:"$Invokes"in fS&&"$Invokes"in fT&&q(fS.$Invokes, fT.$Invokes));} }
function q(fS, fT){ let fU;let fV;if(m(fS)===m(fT)){ fU=true;fV=0;while(fU&&fV<m(fS)){!p(j(fS, fV), j(fT, fV))?fU=false:void 0;fV=fV+1;} return fU;} else return false;}
function r(fS, fT){ return fS.getTime()===fT.getTime();}
function s(fS){ const fT=typeof fS;return fT=="function"?0:fT=="boolean"?fS?1:0:fT=="number"?fS:fT=="string"?t(fS):fT=="object"?fS==null?0:fS instanceof Array?u(fS):v(fS):0;}
function t(fS){ let fT;if(fS===null)return 0;else { fT=5381;for(let fU=0, fV=fS.length-1;fU<=fV;fU++)fT=w(fT, fS[fU].charCodeAt());return fT;} }
function u(fS){ let fT=-34948909;for(let fU=0, fV=m(fS)-1;fU<=fV;fU++)fT=w(fT, s(j(fS, fU)));return fT;}
function v(fS){ if("GetHashCode"in fS)return fS.GetHashCode();else { const fT=[0];let fU;for(var fV in fS)if(((fW) => { fT[0]=w(w(fT[0], t(fW)), s(fS[fW]));return false;})(fV))break;return fT[0];} }
function w(fS, fT){ return(fS<<5)+fS+fT;}
function x(fS, fT){ if(fS===fT)return 0;else { const fU=typeof fS;switch(fU=="function"?1:fU=="boolean"?2:fU=="number"?2:fU=="string"?2:fU=="object"?3:0){ case 0:return typeof fT=="undefined"?0:-1;case 1:return e("Cannot compare function values.");case 2:return fS<fT?-1:1;case 3:if(fS===null)return -1;else if(fT===null)return 1;else if("CompareTo"in fS)return fS.CompareTo(fT);else if("CompareTo0"in fS)return fS.CompareTo0(fT);else if(fS instanceof Array&&fT instanceof Array)return y(fS, fT);else if(fS instanceof Date&&fT instanceof Date)return z(fS, fT);else { const fV=[0];let fW;for(var fY in fS)if(((fZ) =>!fS.hasOwnProperty(fZ)?false:!fT.hasOwnProperty(fZ)?(fV[0]=1,true):(fV[0]=x(fS[fZ], fT[fZ]),fV[0]!==0))(fY))break;if(fV[0]===0){ let fX;for(var fZ in fT)if(((f0) =>!fT.hasOwnProperty(f0)?false:!fS.hasOwnProperty(f0)&&(fV[0]=-1,true))(fZ))break;} return fV[0];} break;} } }
function y(fS, fT){ let fU;let fV;if(m(fS)<m(fT))return -1;else if(m(fS)>m(fT))return 1;else { fU=0;fV=0;while(fU===0&&fV<m(fS)){ fU=x(j(fS, fV), j(fT, fV));fV=fV+1;} return fU;} }
function z(fS, fT){ return x(fS.getTime(), fT.getTime());}
function A(fS){ X("index");return fS?Y("index", W("main"), fS):void 0;}
function B(fS){ const fT={};const fU=cu(fS);try { while(fU.MoveNext()){ const fV=fU.Current;fT[fV[0]]=fV[1];} } finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} return fT;}
function C(fS){ return(fT) => { try {(fS())(fT);} catch(fU){ fT.k(bg(fU));} };}
function D(fS, fT){ return G((fU) => { fS(bf((fV) => { if(fV.$==0){ const fW=fV.$0;K().Fork(() => { try {(fT(fW))(fU);} catch(fX){ fU.k(bg(fX));} });} else K().Fork(() => { fU.k(fV);});}, fU.ct));});}
function E(fS){ return(fT) => { fT.k(bh(fS));};}
function F(fS, fT){ const fU=(H())[0];const fV=fT==null?fU:fT.$0;K().Fork(() => { if(!fV.c)fS(bf((fW) => { if(fW.$==1)I(fW.$0);}, fV));});}
function G(fS){ return(fT) => { if(fT.ct.c)J(fT);else fS(fT);};}
function H(){ return b1.defCTS;}
function I(fS){ console.log("WebSharper: Uncaught asynchronous exception", fS);}
function J(fS){ fS.k(bi(new cU("New", fS.ct)));}
function K(){ return b1.scheduler;}
function L(fS){ return(fT) => { const fU=[false];const fV=(fW) => { if(fU[0])e("A continuation provided by Async.FromContinuations was invoked multiple times");else { fU[0]=true;K().Fork(fW);} };fS((fW) => { fV(() => { fT.k(bh(fW));});}, (fW) => { fV(() => { fT.k(bg(fW));});}, (fW) => { fV(() => { fT.k(bi(fW));});});};}
function M(){ return b1.Zero;}
function N(fS){ return L((fT, fU) => { fS.then(fT, (fV) => fU(O(fV)));});}
function O(fS){ return fS instanceof Error?fS:new b0(fS);}
function P(fS){ let fT=[];let fU;for(var fV in fS)fT.push(fS[fV]);return fT;}
class Q extends h { }
class R extends h { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fS, fT){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return eh("");} }
class S extends R { name;fillWith;get Name(){ return this.name;} ForTextView(){ return W(this.fillWith);} get AsChoiceView(){ return ei(this.fillWith);} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
function T(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fS) => { const fT=Math.random()*16|0;const fU=fS=="x"?fT:fT&3|8;return fU.toString(16);});}
let U=fM((fS) => class fT { static { U=fS(this);} static status;static { this.status=bl.Create_1("Checking service worker...");} });
function V(fS, fT, fU){ const fV=new bk("New_5");const fW=new bm("New_3");const fX=cu(fT);try { while(fX.MoveNext()){ const fY=fX.Current;const fZ=fY.Name;fW.SAdd(fZ);fV.set_Item(fZ, fY);} } finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} return[bn(fT, bC((f0) => { const f1=f0[0];const f2=f0[1];const f3=f0[2];if(fW.Contains(f1))return null;else { const f4=f2===0?bR.GetOrAddHoleFor(fS, f1, () => { const f5=f3==null?null:W(f3.$0);let f6=bl.Create_1(f5==null?"":f5.$0);return new bS(f1, f6);}):f2===1?bR.GetOrAddHoleFor(fS, f1, () => { const f5=f3==null?null:W(f3.$0);let f6=bl.Create_1(f5==null?0:f5.$0);return new bT(f1, f6);}):f2===2?bR.GetOrAddHoleFor(fS, f1, () => { const f5=f3==null?null:W(f3.$0);let f6=bl.Create_1(f5==null?false:f5.$0);return new bU(f1, f6);}):f2===3?bR.GetOrAddHoleFor(fS, f1, () => { const f5=f3==null?null:W(f3.$0);let f6=bl.Create_1(f5==null?-8640000000000000:f5.$0);return new bV(f1, f6);}):f2===4?bR.GetOrAddHoleFor(fS, f1, () => new bW(f1, bl.Create_1([]))):f2===5?bR.GetOrAddHoleFor(fS, f1, () => new bX(f1, bl.Create_1(W(globalThis.document.querySelector("[ws-dom="+f1+"]"))))):f2===6?bR.GetOrAddHoleFor(fS, f1, () => { const f5=f3==null?null:W(f3.$0);let f6=bl.Create_1(f5==null?[]:f5.$0);return new bY(f1, f6);}):e("Invalid value type");fV.set_Item(f1, f4);return W(f4);} }, fU)), {$:0, $0:fV}];}
function W(fS){ return{$:1, $0:fS};}
function X(fS){!Z()?(u0030(true),u0031(globalThis.document.body, "")):void 0;u0032().set_Item(fS, u0033(""));}
function Y(fS, fT, fU){ let fV;const fW=(fV=null,[u0033(fS).TryGetValue(fT==null?"":fT.$0, {get:() => fV, set:(fX) => { fV=fX;}}), fV]);return fW[0]?u0034(fW[1].cloneNode(true), fU):(console.warn("Local template doesn't exist", fT),be.Empty);}
function Z(){ return cz.LocalTemplatesLoaded;}
function u0030(fS){ cz.LocalTemplatesLoaded=fS;}
function u0031(fS, fT){ const fU=u0033(fT);const fV=new bk("New_5");const fW=fS.querySelectorAll("[ws-template]");for(let f8=0, f9=fW.length-1;f8<=f9;f8++){ const fX=fW[f8];const fY=fX.getAttribute("ws-template").toLowerCase();fX.removeAttribute("ws-template");fV.set_Item(fY, u0035(fX));} const fZ=fS.querySelectorAll("[ws-children-template]");for(let f_=0, f$=fZ.length-1;f_<=f$;f_++){ const f0=fZ[f_];const f1=f0.getAttribute("ws-children-template").toLowerCase();f0.removeAttribute("ws-children-template");fV.set_Item(f1, u0036(f0));} const f2=fS.querySelectorAll("template[id]");for(let ga=0, gb=f2.length-1;ga<=gb;ga++){ const f3=f2[ga];fV.set_Item(f3.getAttribute("id").toLowerCase(), u0037(f3));} const f4=fS.querySelectorAll("template[name]");for(let gc=0, gd=f4.length-1;gc<=gd;gc++){ const f5=f4[gc];fV.set_Item(f5.getAttribute("name").toLowerCase(), u0037(f5));} const f6=new bm("New_3");function f7(ge){ if(!fU.ContainsKey(ge)){ let gf;const gg=(gf=null,[fV.TryGetValue(ge, {get:() => gf, set:(gh) => { gf=gh;}}), gf]);if(gg[0]){ f6.SAdd(ge);fV.RemoveKey(ge);u0038(fT, W(ge), gg[1], W(f7));} else console.warn(f6.Contains(ge)?"Encountered loop when instantiating "+ge:"Local template does not exist: "+ge);} } while(fV.count>0)f7(bo(fV.Keys));}
function u0032(){ return cz.LoadedTemplates;}
function u0033(fS){ let fT;const fU=(fT=null,[u0032().TryGetValue(fS, {get:() => fT, set:(fW) => { fT=fW;}}), fT]);if(fU[0])return fU[1];else { const fV=new bk("New_5");u0032().set_Item(fS, fV);return fV;} }
function u0034(fS, fT){ let fU;const fV=u0039(fS, bn(fT, $().Values));const fW=fV[1];const fX=fV[0];const fY=fX.Els;return!p(fY, null)&&fY.length===1&&(j(fY, 0)instanceof Node&&(p(j(fY, 0).nodeType, Node.ELEMENT_NODE)&&(fU=j(fY, 0),true)))?c3.TreeNode(fX, fW):be.Mk(b2(fX), fW);}
function u0035(fS){ fS.removeAttribute("ws-template");const fT=fS.getAttribute("ws-replace");if(fT==null){ } else { fS.removeAttribute("ws-replace");const fU=fS.parentNode;if(p(fU, null)){ } else { const fV=globalThis.document.createElement(fS.tagName);fV.setAttribute("ws-replace", fT);fU.replaceChild(fV, fS);} } const fW=globalThis.document.createElement("div");fW.appendChild(fS);return fW;}
function u0036(fS){ const fT=globalThis.document.createElement("div");while(fS.hasChildNodes())fT.appendChild(fS.firstChild);return fT;}
function u0037(fS){ const fT=globalThis.document.createElement("div");const fU=fS.content;for(let fV=0, fW=fU.childNodes.length-1;fV<=fW;fV++)fT.appendChild(fU.childNodes[fV].cloneNode(true));return fT;}
function u0038(fS, fT, fU, fV){ const fW=new bm("New_3");function fX(f4, f5){ while(true)switch(f4){ case 0:if(f5!==null){ const f6=f5.nextSibling;if(p(f5.nodeType, Node.TEXT_NODE))da(f5);else if(p(f5.nodeType, Node.ELEMENT_NODE))fZ(f5);f5=f6;} else return null;break;case 1:const f7=di(f5.nodeName, W(3), null).toLowerCase();const f8=f7.indexOf(".");const f9=f8===-1?[fS, f7]:[di(f7, null, W(f8-1)), di(f7, W(f8+1), null)];const f_=f9[1];const f$=f9[0];if(f$!=""&&!u0032().ContainsKey(f$))return db(f_);else { if(f$==""&&fV!=null)fV.$0(f_);const ga=u0032().Item(f$);if(!ga.ContainsKey(f_))return db(f_);else { const gb=ga.Item(f_);const gc=gb.cloneNode(true);const gd=new bm("New_3");const ge=new bk("New_5");const gf=f5.attributes;for(let gp=0, gq=gf.length-1;gp<=gq;gp++){ const gg=gf.item(gp).name.toLowerCase();const gh=gf.item(gp).nodeValue;let gi=gh==""?gg:gh.toLowerCase();ge.set_Item(gg, gi);if(!gd.SAdd(gg))console.warn("Hole mapped twice", gg);} for(let gr=0, gs=f5.childNodes.length-1;gr<=gs;gr++){ const gj=f5.childNodes[gr];if(p(gj.nodeType, Node.ELEMENT_NODE))if(!gd.SAdd(gj.nodeName.toLowerCase()))console.warn("Hole filled twice", f_);} const gk=f5.childNodes.length===1&&p(f5.firstChild.nodeType, Node.TEXT_NODE);if(gk){ const gl=dc(gc, f5.firstChild.textContent, f_);const gm=((gt) =>(gu) => gt.SAdd(gu))(gd);let gn=((gt) =>(gu) => { if(gu!=null)gt(gu.$0);})((gt) => { gm(gt);});gn(gl);} dd(gc, gd);if(!gk){ for(let gt=0, gu=f5.childNodes.length-1;gt<=gu;gt++){ const go=f5.childNodes[gt];if(p(go.nodeType, Node.ELEMENT_NODE))if(go.hasAttributes())de(gc, go);else fY(gc, go);} } df(gc, ge);dg(gc, f5.parentNode, f5);f5.parentNode.removeChild(f5);return;} } break;} } function fY(f4, f5){ const f6=f5.nodeName.toLowerCase();const f7=(f$, ga) => { if(f6=="title"&&f5.hasChildNodes()){ const gb=dj(f5.textContent);f5.removeChild(f5.firstChild);while(gb.hasChildNodes())f5.appendChild(gb.firstChild);} fZ(f5);return dg(f5, f$, ga);};ba(f4, "[ws-attr-holes]", (f$) => { const ga=el(f$.getAttribute("ws-attr-holes"), [" "], 1);for(let ge=0, gf=ga.length-1;ge<=gf;ge++){ const gb=j(ga, ge);let gc=new RegExp("\\${"+f6+"}", "ig");let gd=f$.getAttribute(gb).replace(gc, f5.textContent);f$.setAttribute(gb, gd);} });const f8=f4.querySelector("[ws-hole="+f6+"]");if(p(f8, null)){ const f9=f4.querySelector("[ws-replace="+f6+"]");if(p(f9, null)){ const f_=f4.querySelector("slot[name="+f6+"]");return f4.tagName.toLowerCase()=="template"?(f7(f_.parentNode, f_),void f_.parentNode.removeChild(f_)):null;} else { f7(f9.parentNode, f9);f9.parentNode.removeChild(f9);return;} } else { while(f8.hasChildNodes())f8.removeChild(f8.lastChild);f8.removeAttribute("ws-hole");return f7(f8, null);} } function fZ(f4){ if(!f4.hasAttribute("ws-preserve"))if(em(f4.nodeName.toLowerCase(), "ws-"))f1(f4);else { dh(f4);f0(f4.firstChild);} } function f0(f4){ return fX(0, f4);} function f1(f4){ return fX(1, f4);} function f2(f4){ while(true){ const f5=f4.querySelector("[ws-template]");if(p(f5, null)){ const f6=f4.querySelector("[ws-children-template]");if(p(f6, null)){ const f7=f4.querySelectorAll("template[id]");for(let gb=1, gc=f7.length-1;gb<=gc;gb++){ const f8=f7[gb];if(fW.Contains(f8)){ } else { u0038(fS, W(f8.getAttribute("id")), f8, null);fW.SAdd(f8);} } const f9=f4.querySelectorAll("template[name]");for(let gd=1, ge=f9.length-1;gd<=ge;gd++){ const f_=f9[gd];if(fW.Contains(f_)){ } else { u0038(fS, W(f_.getAttribute("name")), f_, null);fW.SAdd(f_);} } return null;} else { const f$=f6.getAttribute("ws-children-template");f6.removeAttribute("ws-children-template");u0038(fS, W(f$), f6, null);f4=f4;} } else { const ga=f5.getAttribute("ws-template");(bb(fS, W(ga), f5))(null);f4=f4;} } } const f3=(fT==null?"":fT.$0).toLowerCase();u0033(fS).set_Item(f3, fU);if(fU.hasChildNodes()){ f2(fU);f0(fU.firstChild);} }
function u0039(fS, fT){ let fU;const fV=[];const fW=[];const fX=[];const fY=[];const fZ=new bk("New_5");const f0=cu(fT);try { while(f0.MoveNext()){ const f1=f0.Current;fZ.set_Item(f1.Name, f1);} } finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} let f2=dk(fS);const f3=(ga, gb) => { const gc=dJ(ga, gb);fW.push(dK(gc));fX.push([ga, gc]);const gd=fN(gc.OnAfterRender);if(gd==null)return null;else { const ge=gd.$0;fY.push(() => { ge(ga);});return;} };const f4=(ga) => { let gb;const gc=(gb=null,[fZ.TryGetValue(ga, {get:() => gb, set:(gf) => { gb=gf;}}), gb]);if(gc[0]){ const gd=gc[1];if(gd instanceof d0)return W(gd.Value);else if(gd instanceof d1)return W(be.TextNode(gd.Value));else { const ge=gd.ForTextView();return ge==null?null:W(be.TextView(ge.$0));} } else return null;};ba(fS, "[ws-hole]", (ga) => { const gb=ga.getAttribute("ws-hole");ga.removeAttribute("ws-hole");while(ga.hasChildNodes())ga.removeChild(ga.lastChild);const gc=f4(gb);if(gc!=null&&gc.$==1){ const gd=gc.$0;cA(ga, gd.docNode);fV.push(cW.New(dL(ga), gd.docNode, null, ga, cX(), null));fW.push(gd.updates);} });ba(fS, "[ws-replace]", (ga) => { const gb=f4(ga.getAttribute("ws-replace"));if(gb!=null&&gb.$==1){ const gc=gb.$0;const gd=ga.parentNode;const ge=globalThis.document.createTextNode("");gd.replaceChild(ge, ga);const gf=cF(ge, gc.docNode);f2=dk(fS);const gg=bD((gh) => ga===gh, f2);if(gg==null){ } else k(f2, gg.$0, gc.docNode);fV.push(cW.New(dL(gd), gc.docNode, W([gf, ge]), gd, cX(), null));fW.push(gc.updates);} });let f5=false;ba(fS, "slot", (ga) => { const gb=ga.getAttribute("name");const gc=gb==""||gb==null?"default":gb.toLowerCase();if(f5&&gc=="default"||!p(fS.parentElement, null)){ } else { while(ga.hasChildNodes())ga.removeChild(ga.lastChild);if(gc=="default")f5=true;const gd=f4(gc);if(gd!=null&&gd.$==1){ const ge=gd.$0;cA(ga, ge.docNode);fV.push(cW.New(dL(ga), ge.docNode, null, ga, cX(), null));fW.push(ge.updates);} } });ba(fS, "[ws-attr]", (ga) => { let gb;const gc=ga.getAttribute("ws-attr");ga.removeAttribute("ws-attr");const gd=(gb=null,[fZ.TryGetValue(gc, {get:() => gb, set:(gf) => { gb=gf;}}), gb]);if(gd[0]){ const ge=gd[1];if(ge instanceof d2)f3(ga, ge.Value);else console.warn("Attribute hole filled with non-attribute data", gc);} });ba(fS, "[ws-on]", (ga) => { f3(ga, ee.Concat(bC((gb) => { let gc;const gd=el(gb, [":"], 1);const ge=(gc=null,[fZ.TryGetValue(j(gd, 1), {get:() => gc, set:(gg) => { gc=gg;}}), gc]);if(ge[0]){ const gf=ge[1];return gf instanceof d3?W(d4(j(gd, 0), gf.Value)):gf instanceof ed?W(ee.Handler(j(gd, 0), gf.Value)):(console.warn("Event hole on"+j(gd, 0)+" filled with non-event data", j(gd, 1)),null);} else return null;}, el(ga.getAttribute("ws-on"), [" "], 1))));ga.removeAttribute("ws-on");});ba(fS, "[ws-onafterrender]", (ga) => { let gb;const gc=ga.getAttribute("ws-onafterrender");const gd=(gb=null,[fZ.TryGetValue(gc, {get:() => gb, set:(gf) => { gb=gf;}}), gb]);if(gd[0]){ const ge=gd[1];if(ge instanceof ef){ ga.removeAttribute("ws-onafterrender");f3(ga, d5(ge.Value));} else if(ge instanceof eg){ ga.removeAttribute("ws-onafterrender");f3(ga, d5(ge.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gc);} });ba(fS, "[ws-var]", (ga) => { let gb;const gc=ga.getAttribute("ws-var");ga.removeAttribute("ws-var");const gd=(gb=null,[fZ.TryGetValue(gc, {get:() => gb, set:(ge) => { gb=ge;}}), gb]);if(gd[0])gd[1].AddAttribute((ge) =>(gf) => f3(ge, gf), ga);});const f6=() => { bc("[ws-dom]", (ga) => { let gb;let gc;let gd;const ge=(gb=null,[fZ.TryGetValue(ga.getAttribute("ws-dom").toLowerCase(), {get:() => gb, set:(gi) => { gb=gi;}}), gb]);if(ge[0]){ const gf=ge[1];if(gf instanceof bX){ const gg=gf.Value;ga.removeAttribute("ws-dom");gc=ga;const gh=new MutationObserver((gi, gj) => { bH((gk) => { gk.removedNodes.forEach(fO((gl) => gl[0]===gc&&gk.addedNodes.length!==1?(gg.SetFinal(null),gj.disconnect()):null), null);}, gi);});if(ga.parentElement!==null)gh.observe(ga.parentElement, (gd={},gd.childList=true,gd));gg.Set(W(ga));c5((gi) => { if(gi!=null&&gi.$==1){ const gj=gi.$0;if(gc===gj){ } else { gc.replaceWith(gj);gc=gj;} } else { gc.remove();gh.disconnect();} }, gg.View);} } });};ba(fS, "[ws-attr-holes]", (ga) => { const gb=new RegExp(bd(), "g");const gc=el(ga.getAttribute("ws-attr-holes"), [" "], 1);ga.removeAttribute("ws-attr-holes");for(let gd=0, ge=gc.length-1;gd<=ge;gd++)((() => { let gf;const gg=j(gc, gd);const gh=ga.getAttribute(gg);let gi=null;let gj=0;const gk=[];while(gi=gb.exec(gh),gi!==null){ const gl=di(gh, W(gj), W(gb.lastIndex-j(gi, 0).length-1));gj=gb.lastIndex;gk.push([gl, j(gi, 1)]);} const gm=di(gh, W(gj), null);gb.lastIndex=0;const gn=bI((gs, gt) =>(((gu) => { const gv=gu[0];const gw=gu[1];return(gx) => { let gy;const gz=gx[0];const gA=gx[1];const gB=(gy=null,[fZ.TryGetValue(gw, {get:() => gy, set:(gD) => { gy=gD;}}), gy]);const gC=gB[0]?gB[1].AsChoiceView:eh("");return gC.$==1?[gv, ej.Cons(gz==""?gC.$0:c6((gD) => gD+gz, gC.$0), gA)]:[gv+gC.$0+gz, gA];};})(gs))(gt), gk, [gm, ej.Empty]);if(gn[1].$==1){ if(gn[1].$1.$==1){ if(gn[1].$1.$1.$==1){ if(gn[1].$1.$1.$1.$==0){ const go=gn[0];gf=d6(gg, c7((gs, gt, gu) => go+gs+gt+gu, gn[1].$0, gn[1].$1.$0, gn[1].$1.$1.$0));} else { const gp=gn[0];gf=d6(gg, c6((gs) => gp+ek("", gs), c8(gn[1])));} } else { const gq=gn[0];gf=d6(gg, c9((gs, gt) => gq+gs+gt, gn[1].$0, gn[1].$1.$0));} } else if(gn[0]=="")gf=d6(gg, gn[1].$0);else { const gr=gn[0];gf=d6(gg, c6((gs) => gr+gs, gn[1].$0));} } else gf=ee.Create(gg, gn[0]);return f3(ga, gf);})());});let f7=f2;const f8=fY.length==0?W(() => { f6();}):W((ga) => { f6();bH((gb) => { gb(ga);}, fY);});const f9=!p(f2, null)&&f2.length===1&&(j(f2, 0)instanceof Node&&(j(f2, 0)instanceof Element&&(fU=j(f2, 0),true)))?W(fU):null;let f_={Els:f7, Dirty:true, Holes:fV, Attrs:fX, Render:f8?f8.$0:void 0, El:f9?f9.$0:void 0};let f$=fP(f_, ["Render", "El"]);return[f$, es(c4(), c_, fW)];}
function $(){ return cz.GlobalHoles;}
function ba(fS, fT, fU){ dq(fS, fT, (fV) => { if(fV.closest("[ws-preserve]")==null)fU(fV);});}
function bb(fS, fT, fU){ const fV=u0035(fU);return(fW) => { u0038(fS, fT, fV, fW);};}
function bc(fS, fT){ dr(fS, (fU) => { if(fU.closest("[ws-preserve]")==null)fT(fU);});}
function bd(){ return cz.TextHoleRE;}
class be extends h { docNode;updates;static RunById(fS, fT){ const fU=globalThis.document.getElementById(fS);if(p(fU, null))e("invalid id: "+fS);else be.Run(fU, fT);} static Run(fS, fT){ cA(fS, fT.docNode);be.RunInPlace(false, fS, fT);} static get Empty(){ return be.Mk(null, c4());} static RunInPlace(fS, fT, fU){ const fV=cC(fT, fU.docNode);c5(dy()||dF()?dG(cD(fS, fV, fU.docNode)):() => { cE(fS, fV, fU.docNode);}, fU.updates);} static Mk(fS, fT){ return new be(fS, fT);} static TextNode(fS){ return be.Mk(b3(globalThis.document.createTextNode(fS)), c4());} static TextView(fS){ const fT=cN();return be.Mk(b4(fT), c6((fU) => { cO(fT, fU);}, fS));} constructor(fS, fT){ super();this.docNode=fS;this.updates=fT;} }
function bf(fS, fT){ return{k:fS, ct:fT};}
function bg(fS){ return{$:1, $0:fS};}
function bh(fS){ return{$:0, $0:fS};}
function bi(fS){ return{$:2, $0:fS};}
function bj(fS, fT){ return{c:fS, r:fT};}
class bk extends h { equals;hash;count;data;set_Item(fS, fT){ this.set(fS, fT);} set(fS, fT){ const fU=this.hash(fS);const fV=this.data[fU];if(fV==null){ this.count=this.count+1;this.data[fU]=new Array({K:fS, V:fT});} else { const fW=bD((fX) => this.equals.apply(null, [(f(fX))[0], fS]), fV);if(fW==null){ this.count=this.count+1;fV.push({K:fS, V:fT});} else fV[fW.$0]={K:fS, V:fT};} } TryGetValue(fS, fT){ const fU=this.data[this.hash(fS)];if(fU==null)return false;else { const fV=bE((fW) => { const fX=f(fW);return this.equals.apply(null, [fX[0], fS])?W(fX[1]):null;}, fU);return fV!=null&&fV.$==1&&(fT.set(fV.$0),true);} } ContainsKey(fS){ const fT=this.data[this.hash(fS)];return fT==null?false:bF((fU) => this.equals.apply(null, [(f(fU))[0], fS]), fT);} RemoveKey(fS){ return this.remove(fS);} get Keys(){ return new dx(this);} GetEnumerator(){ return cx(bG(P(this.data)));} get Values(){ return new ew(this);} remove(fS){ const fT=this.hash(fS);const fU=this.data[fT];if(fU==null)return false;else { const fV=bK((fW) =>!this.equals.apply(null, [(f(fW))[0], fS]), fU);return m(fV)<fU.length&&(this.count=this.count-1,this.data[fT]=fV,true);} } Item(fS){ return this.get(fS);} get(fS){ const fT=this.data[this.hash(fS)];return fT==null?ct():bM((fU) => { const fV=f(fU);return this.equals.apply(null, [fV[0], fS])?W(fV[1]):null;}, fT);} static New_5(){ return new this("New_5");} static New_6(fS, fT, fU){ return new this("New_6", fS, fT, fU);} constructor(fS, fT, fU, fV){ if(fS=="New_5"){ fS="New_6";fT=[];fU=p;fV=s;} if(fS=="New_6"){ const fW=fT;const fX=fU;const fY=fV;super();this.equals=fX;this.hash=fY;this.count=0;this.data=[];const fZ=cu(fW);try { while(fZ.MoveNext()){ const f0=fZ.Current;this.set(f0.K, f0.V);} } finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} } } }
let bl=fM((fS) => class fT extends h { static { bl=fS(this);} static Create_1(fU){ return new b7(false, {s:c0(fU, [])}, fU);} static { } });
class bm extends h { equals;hash;data;count;SAdd(fS){ return this.add(fS);} Contains(fS){ const fT=this.data[this.hash(fS)];return fT==null?false:this.arrContains(fS, fT);} add(fS){ const fT=this.hash(fS);const fU=this.data[fT];return fU==null?(this.data[fT]=[fS],this.count=this.count+1,true):this.arrContains(fS, fU)?false:(fU.push(fS),this.count=this.count+1,true);} arrContains(fS, fT){ let fU=true;let fV=0;const fW=fT.length;while(fU&&fV<fW)if(this.equals.apply(null, [fT[fV], fS]))fU=false;else fV=fV+1;return!fU;} GetEnumerator(){ return cu(eO(this.data));} ExceptWith(fS){ const fT=cu(fS);try { while(fT.MoveNext())this.Remove(fT.Current);} finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} } get Count(){ return this.count;} IntersectWith(fS){ const fT=new bm("New_4", fS, this.equals, this.hash);const fU=eO(this.data);for(let fW=0, fX=fU.length-1;fW<=fX;fW++){ const fV=fU[fW];if(!fT.Contains(fV))this.Remove(fV);} } Remove(fS){ const fT=this.data[this.hash(fS)];return fT==null?false:this.arrRemove(fS, fT)&&(this.count=this.count-1,true);} CopyTo(fS, fT){ const fU=eO(this.data);for(let fV=0, fW=fU.length-1;fV<=fW;fV++)k(fS, fV+fT, fU[fV]);} arrRemove(fS, fT){ let fU=true;let fV=0;const fW=fT.length;while(fU&&fV<fW)if(this.equals.apply(null, [fT[fV], fS])){ fT.splice(fV, 1);fU=false;} else fV=fV+1;return!fU;} static New_3(){ return new this("New_3");} static New_4(fS, fT, fU){ return new this("New_4", fS, fT, fU);} static New_2(fS){ return new this("New_2", fS);} constructor(fS, fT, fU, fV){ if(fS=="New_3"){ fS="New_4";fT=[];fU=p;fV=s;} let fW;if(fS=="New_2"){ fW=fT;fS="New_4";fT=fW;fU=p;fV=s;} if(fS=="New_4"){ const fX=fT;const fY=fU;const fZ=fV;super();this.equals=fY;this.hash=fZ;this.data=[];this.count=0;const f0=cu(fX);try { while(f0.MoveNext())this.add(f0.Current);} finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} } } }
function bn(fS, fT){ return{GetEnumerator:() => { const fU=cu(fS);const fV=[true];return new cy(fU, null, (fW) => { if(fW.s.MoveNext()){ fW.c=fW.s.Current;return true;} else { const fX=fW.s;if(!p(fX, null))fX.Dispose();fW.s=null;return fV[0]&&(fV[0]=false,fW.s=cu(fT),fW.s.MoveNext()?(fW.c=fW.s.Current,true):(fW.s.Dispose(),fW.s=null,false));} }, (fW) => { const fX=fW.s;if(!p(fX, null))fX.Dispose();});}};}
function bo(fS){ const fT=cu(fS);try { return fT.MoveNext()?fT.Current:du();} finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} }
function bp(fS, fT, fU){ let fV=fT;const fW=cu(fU);try { while(fW.MoveNext())fV=fS(fV, fW.Current);return fV;} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} }
function bq(fS, fT){ const fU=cu(fT);try { while(fU.MoveNext())fS(fU.Current);} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} }
function br(fS, fT){ return{GetEnumerator:() => { const fU=cu(fT);return new cy(null, null, (fV) => fU.MoveNext()&&(fV.c=fS(fU.Current),true), () => { fU.Dispose();});}};}
function bs(fS){ return{GetEnumerator:() => cu(fS())};}
function bt(fS, fT){ return bv(br(fS, fT));}
function bu(fS){ const fT=cu(fS);try { if(!fT.MoveNext())bx();let fU=fT.Current;while(fT.MoveNext()){ const fV=fT.Current;if(x(fV, fU)===1)fU=fV;} return fU;} finally { if(typeof fT=="object"&&a(fT))fT.Dispose();} }
function bv(fS){ return{GetEnumerator:() => { const fT=cu(fS);function fU(fV){ while(true){ const fW=fV.s;if(p(fW, null)){ if(fT.MoveNext()){ fV.s=cu(fT.Current);fV=fV;} else { fT.Dispose();return false;} } else if(fW.MoveNext()){ fV.c=fW.Current;return true;} else { fV.Dispose();fV.s=null;fV=fV;} } } return new cy(null, null, fU, (fV) => { const fW=fV.s;if(!p(fW, null))fW.Dispose();if(!p(fT, null))fT.Dispose();});}};}
function bw(fS, fT){ return by(fS, bz(fT));}
function bx(){ return e("The input sequence was empty.");}
function by(fS, fT){ fS<0?dw():void 0;return{GetEnumerator:() => { const fU=[cu(fT)];return new cy(0, null, (fV) => { fV.s=fV.s+1;if(fV.s>fS)return false;else { const fW=fU[0];return p(fW, null)?du():fW.MoveNext()?(fV.c=fW.Current,fV.s===fS?(fW.Dispose(),fU[0]=null):void 0,true):(fW.Dispose(),fU[0]=null,du());} }, () => { const fV=fU[0];if(!p(fV, null))fV.Dispose();});}};}
function bz(fS){ return{GetEnumerator:() => new cy(0, null, (fT) => { fT.c=fS(fT.s);fT.s=fT.s+1;return true;}, void 0)};}
function bA(fS, fT){ return!bB((fU) =>!fS(fU), fT);}
function bB(fS, fT){ const fU=cu(fT);try { let fV=false;while(!fV&&fU.MoveNext())fV=fS(fU.Current);return fV;} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} }
function bC(fS, fT){ const fU=[];for(let fW=0, fX=fT.length-1;fW<=fX;fW++){ const fV=fS(fT[fW]);if(fV==null){ } else fU.push(fV.$0);} return fU;}
function bD(fS, fT){ let fU=null;let fV=0;while(fV<fT.length&&fU==null){ fS(fT[fV])?fU=W(fV):void 0;fV=fV+1;} return fU;}
function bE(fS, fT){ let fU=null;let fV=0;while(fV<fT.length&&fU==null){ const fW=fS(fT[fV]);if(fW!=null&&fW.$==1)fU=fW;fV=fV+1;} return fU;}
function bF(fS, fT){ let fU=false;let fV=0;while(!fU&&fV<m(fT))if(fS(fT[fV]))fU=true;else fV=fV+1;return fU;}
function bG(fS){ return Array.prototype.concat.apply([], bL(fS));}
function bH(fS, fT){ for(let fU=0, fV=fT.length-1;fU<=fV;fU++)fS(fT[fU]);}
function bI(fS, fT, fU){ let fV=fU;const fW=fT.length;for(let fX=1, fY=fW;fX<=fY;fX++)fV=fS(fT[fW-fX], fV);return fV;}
function bJ(fS, fT){ const fU=new Array(fT.length);for(let fV=0, fW=fT.length-1;fV<=fW;fV++)fU[fV]=fS(fT[fV]);return fU;}
function bK(fS, fT){ const fU=[];for(let fV=0, fW=fT.length-1;fV<=fW;fV++)if(fS(fT[fV]))fU.push(fT[fV]);return fU;}
function bL(fS){ if(fS instanceof Array)return fS.slice();else if(fS instanceof ej)return bN(fS);else { const fT=[];const fU=cu(fS);try { while(fU.MoveNext())fT.push(fU.Current);return fT;} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} } }
function bM(fS, fT){ const fU=bE(fS, fT);return fU==null?e("KeyNotFoundException"):fU.$0;}
function bN(fS){ const fT=[];let fU=fS;while(!(fU.$==0)){ fT.push(e4(fU));fU=e5(fU);} return fT;}
function bO(fS, fT){ let fU=true;let fV=0;while(fU&&fV<m(fT))if(fS(fT[fV]))fV=fV+1;else fU=false;return fU;}
function bP(fS, fT){ const fU=new Array(fS);for(let fV=0, fW=fS-1;fV<=fW;fV++)fU[fV]=fT;return fU;}
function bQ(fS, fT){ if(fS<0)e("Negative size given.");else null;const fU=new Array(fS);for(let fV=0, fW=fS-1;fV<=fW;fV++)fU[fV]=fT(fV);return fU;}
let bR=fM((fS) => class fT extends h { static { bR=fS(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fU, fV, fW){ let fX;const fY=bR.GetHolesFor(fU);const fZ=(fX=null,[fY.TryGetValue(fV, {get:() => fX, set:(f1) => { fX=f1;}}), fX]);if(fZ[0])return fZ[1];else { const f0=fW();fY.set_Item(fV, f0);return f0;} } static GetHolesFor(fU){ let fV;const fW=(fV=null,[bR.initialized.TryGetValue(fU, {get:() => fV, set:(fY) => { fV=fY;}}), fV]);if(fW[0])return fW[1];else { const fX=new bk("New_5");bR.initialized.set_Item(fU, fX);return fX;} } static { bR.initialized=new bk("New_5");bR.instances=new bk("New_5");} });
class bS extends R { name;fillWith;get Name(){ return this.name;} ForTextView(){ return W(this.fillWith.View);} AddAttribute(fS, fT){(fS(fT))(d7(this.fillWith));} get AsChoiceView(){ return ei(c6(String, this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
class bT extends R { name;fillWith;get Name(){ return this.name;} ForTextView(){ return W(c6(String, this.fillWith.View));} AddAttribute(fS, fT){(fS(fT))(d8(this.fillWith));} get AsChoiceView(){ return ei(c6(String, this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
class bU extends R { name;fillWith;get Name(){ return this.name;} ForTextView(){ return W(c6(String, this.fillWith.View));} AddAttribute(fS, fT){(fS(fT))(d9(this.fillWith));} get AsChoiceView(){ return ei(c6(String, this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
class bV extends R { name;fillWith;get Name(){ return this.name;} ForTextView(){ return W(c6((fS) =>(new Date(fS)).toLocaleString(), this.fillWith.View));} AddAttribute(fS, fT){(fS(fT))(d_(this.fillWith));} get AsChoiceView(){ return ei(c6((fS) =>(new Date(fS)).toLocaleString(), this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
class bW extends R { name;fillWith;get Name(){ return this.name;} ForTextView(){ return W(c6(String, this.fillWith.View));} AddAttribute(fS, fT){(fS(fT))(d$(this.fillWith));} get AsChoiceView(){ return ei(c6(String, this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
class bX extends R { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
class bY extends R { name;fillWith;get Name(){ return this.name;} ForTextView(){ return W(c6((fS) => ek(",", fS), this.fillWith.View));} AddAttribute(fS, fT){(fS(fT))(ea(this.fillWith));} get AsChoiceView(){ return ei(c6(String, this.fillWith.View));} constructor(fS, fT){ super();this.name=fS;this.fillWith=fT;} }
class bZ extends h { idle;robin;Fork(fS){ this.robin.push(fS);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fS=Date.now();let fT=true;while(fT)if(this.robin.length===0){ this.idle=true;fT=false;} else {(this.robin.shift())();Date.now()-fS>40?(setTimeout(() => { this.tick();}, 0),fT=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
class b0 extends Error { reason;constructor(fS){ super("Promise rejected");this.reason=fS;} }
let b1=fM((fS) => class fT { static { b1=fS(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bj(false, []);this.scheduler=new bZ();this.defCTS=[new cV()];this.Zero=E();this.GetCT=(fU) => { fU.k(bh(fU.ct));};} });
function b2(fS){ return{$:6, $0:fS};}
function b3(fS){ return{$:5, $0:fS};}
function b4(fS){ return{$:4, $0:fS};}
class b5 { }
function b6(fS, fT){ return fC(fS, -2147483648, 2147483647, fT);}
class b7 extends o { isConst;current;snap;view;id;get View(){ return this.view;} Set(fS){ if(this.isConst)(((fT) => fT("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fT) => { console.log(fT);}));else { dI(this.snap);this.current=fS;this.snap={s:c0(fS, [])};} } SetFinal(fS){ if(this.isConst)(((fT) => fT("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fT) => { console.log(fT);}));else { dI(this.snap);this.isConst=true;this.current=fS;this.snap={s:c1(fS)};} } Get(){ return this.current;} UpdateMaybe(fS){ const fT=fS(this.Get());if(fT!=null&&fT.$==1)this.Set(fT.$0);} constructor(fS, fT, fU){ super();this.isConst=fS;this.current=fU;this.snap=fT;this.view=() => this.snap;this.id=cX();} }
function b8(fS, fT, fU){ const fV=fS.s;if(fV==null)fU();else fV!=null&&fV.$==2?(fV.$1.push(fU),fT(fV.$0)):fV!=null&&fV.$==3?(fV.$0.push(fT),fV.$1.push(fU)):fT(fV.$0);}
function b9(fS, fT){ const fU=fT.s;if(fU!=null&&fU.$==0)return{s:c1(fS(fU.$0))};else { const fV={s:c2([], [])};ce(fT, (fW) => { cf(fV, fT, fS(fW));}, fV);return fV;} }
function b_(fS, fT, fU, fV){ const fW=fT.s;const fX=fU.s;const fY=fV.s;if(fW!=null&&fW.$==0)return fX!=null&&fX.$==0?fY!=null&&fY.$==0?{s:c1(fS(fW.$0, fX.$0, fY.$0))}:cg(fS, fW.$0, fX.$0, fV):fY!=null&&fY.$==0?ch(fS, fW.$0, fY.$0, fU):ci(fS, fW.$0, fU, fV);else if(fX!=null&&fX.$==0)return fY!=null&&fY.$==0?cj(fS, fX.$0, fY.$0, fT):ck(fS, fX.$0, fT, fV);else if(fY!=null&&fY.$==0)return cl(fS, fY.$0, fT, fU);else { const fZ={s:c2([], [])};const f0=() => { const f1=fZ.s;if(!(f1!=null&&f1.$==0||f1!=null&&f1.$==2)){ const f2=cm(fT);const f3=cm(fU);const f4=cm(fV);if(f2!=null&&f2.$==1)if(f3!=null&&f3.$==1)if(f4!=null&&f4.$==1)if(f2.$0[1]&&f3.$0[1]&&f4.$0[1])cn(fZ, fS(f2.$0[0], f3.$0[0], f4.$0[0]));else co(fZ, fS(f2.$0[0], f3.$0[0], f4.$0[0]));} };ce(fT, f0, fZ);ce(fU, f0, fZ);ce(fV, f0, fZ);return fZ;} }
function b$(fS){ const fT=bL(fS);if(fT.length==0)return{s:c1([])};else { const fU={s:c2([], [])};const fV=[m(fT)-1];const fW=() => { if(fV[0]===0){ const fX=bJ((fY) => { const fZ=fY.s;return fZ!=null&&fZ.$==0?fZ.$0:fZ!=null&&fZ.$==2?fZ.$0:e("value not found by View.Sequence");}, fT);if(bO((fY) => { const fZ=fY.s;return fZ!=null&&fZ.$==0;}, fT))cn(fU, fX);else co(fU, fX);} else fV[0]=fV[0]-1;};bH((fX) => { ce(fX, fW, fU);}, fT);return fU;} }
function ca(fS, fT, fU){ const fV=fT.s;const fW=fU.s;if(fV!=null&&fV.$==0)return fW!=null&&fW.$==0?{s:c1(fS(fV.$0, fW.$0))}:cp(fS, fV.$0, fU);else if(fW!=null&&fW.$==0)return cq(fS, fW.$0, fT);else { const fX={s:c2([], [])};const fY=() => { const fZ=fX.s;if(!(fZ!=null&&fZ.$==0||fZ!=null&&fZ.$==2)){ const f0=cm(fT);const f1=cm(fU);if(f0!=null&&f0.$==1)if(f1!=null&&f1.$==1)if(f0.$0[1]&&f1.$0[1])cn(fX, fS(f0.$0[0], f1.$0[0]));else co(fX, fS(f0.$0[0], f1.$0[0]));} };ce(fT, fY, fX);ce(fU, fY, fX);return fX;} }
function cb(fS, fT){ const fU=fS.s;const fV=fT.s;if(fU!=null&&fU.$==0)return fV!=null&&fV.$==0?{s:c1(null)}:fT;else if(fV!=null&&fV.$==0)return fS;else { const fW={s:c2([], [])};const fX=() => { const fY=fW.s;if(!(fY!=null&&fY.$==0||fY!=null&&fY.$==2)){ const fZ=cm(fS);const f0=cm(fT);if(fZ!=null&&fZ.$==1)if(f0!=null&&f0.$==1)if(fZ.$0[1]&&f0.$0[1])cn(fW, null);else co(fW, null);} };ce(fS, fX, fW);ce(fT, fX, fW);return fW;} }
function cc(fS){ const fT=fS.s;if(fT==null)return fS;else if(fT!=null&&fT.$==2){ const fU={s:c0(fT.$0, [])};cr(fS, fU);return fU;} else if(fT!=null&&fT.$==3){ const fV={s:c2([], [])};ce(fS, (fW) => { cf(fV, fS, fW);}, fV);return fV;} else return fS;}
function cd(fS, fT){ const fU=fS.s;if(fU==null)fT();else fU!=null&&fU.$==2?fU.$1.push(fT):fU!=null&&fU.$==3?fU.$1.push(fT):void 0;}
function ce(fS, fT, fU){ const fV=fS.s;if(fV==null)dI(fU);else fV!=null&&fV.$==2?(cs(fV.$1, fU),fT(fV.$0)):fV!=null&&fV.$==3?(fV.$0.push(fT),cs(fV.$1, fU)):fT(fV.$0);}
function cf(fS, fT, fU){ const fV=fT.s;if(fV!=null&&fV.$==0)cn(fS, fU);else co(fS, fU);}
function cg(fS, fT, fU, fV){ return b9((fW) => fS(fT, fU, fW), fV);}
function ch(fS, fT, fU, fV){ return b9((fW) => fS(fT, fW, fU), fV);}
function ci(fS, fT, fU, fV){ return ca((fW, fX) => fS(fT, fW, fX), fU, fV);}
function cj(fS, fT, fU, fV){ return b9((fW) => fS(fW, fT, fU), fV);}
function ck(fS, fT, fU, fV){ return ca((fW, fX) => fS(fW, fT, fX), fU, fV);}
function cl(fS, fT, fU, fV){ return ca((fW, fX) => fS(fW, fX, fT), fU, fV);}
function cm(fS){ const fT=fS.s;return fT!=null&&fT.$==0?W([fT.$0, true]):fT!=null&&fT.$==2?W([fT.$0, false]):null;}
function cn(fS, fT){ const fU=fS.s;if(fU!=null&&fU.$==3){ fS.s=c1(fT);const fV=fU.$0;for(let fW=0, fX=m(fV)-1;fW<=fX;fW++)(j(fV, fW))(fT);} else void 0;}
function co(fS, fT){ const fU=fS.s;if(fU!=null&&fU.$==3){ fS.s=c0(fT, fU.$1);const fV=fU.$0;for(let fW=0, fX=m(fV)-1;fW<=fX;fW++)(j(fV, fW))(fT);} else void 0;}
function cp(fS, fT, fU){ return b9((fV) => fS(fT, fV), fU);}
function cq(fS, fT, fU){ return b9((fV) => fS(fV, fT), fU);}
function cr(fS, fT){ const fU=fS.s;if(fU==null)dI(fT);else fU!=null&&fU.$==2?cs(fU.$1, fT):fU!=null&&fU.$==3?cs(fU.$1, fT):void 0;}
function cs(fS, fT){ fS.push(fT);if(fS.length%20===0){ const fU=fS.slice(0);fH(fS);for(let fW=0, fX=m(fU)-1;fW<=fX;fW++){ const fV=j(fU, fW);if(typeof fV=="object")(((fY) => { if(fY.s)fS.push(fY);})(fV));else(((fY) => { fS.push(fY);})(fV));} } else void 0;}
function ct(){ throw new eX("New");}
function cu(fS){ return fS instanceof Array?cv(fS):p(typeof fS, "string")?cw(fS):fS.GetEnumerator();}
function cv(fS){ return new cy(0, null, (fT) => { const fU=fT.s;return fU<m(fS)&&(fT.c=j(fS, fU),fT.s=fU+1,true);}, void 0);}
function cw(fS){ return new cy(0, null, (fT) => { const fU=fT.s;return fU<fS.length&&(fT.c=fS[fU],fT.s=fU+1,true);}, void 0);}
function cx(fS){ return fS instanceof Array?cv(fS):p(typeof fS, "string")?cw(fS):"GetEnumerator0"in fS?fS.GetEnumerator0():fS.GetEnumerator();}
class cy extends h { s;c;n;d;e;MoveNext(){ const fS=this.n(this);this.e=fS?1:2;return fS;} get Current(){ return this.e===1?this.c:this.e===0?e("Enumeration has not started. Call MoveNext."):e("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fS, fT, fU, fV){ super();this.s=fS;this.c=fT;this.n=fU;this.d=fV;this.e=0;} }
let cz=fM((fS) => class fT { static { cz=fS(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bk("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bk("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cA(fS, fT){ cB(fS, fT, null);}
function cB(fS, fT, fU){ while(true){ if(fT!=null&&fT.$==1)return cG(fS, fT.$0.El, fU);else if(fT!=null&&fT.$==2){ const fV=fT.$0;fV.Dirty=false;fT=fV.Current;} else if(fT==null)return fU;else if(fT!=null&&fT.$==4)return cG(fS, fT.$0.Text, fU);else if(fT!=null&&fT.$==5)return cG(fS, fT.$0, fU);else if(fT!=null&&fT.$==6)return bI((fY, fZ) =>((((f0) =>(f1) =>(f2) => f1==null||f1.constructor===Object?cB(f0, f1, f2):cG(f0, f1, f2))(fS))(fY))(fZ), fT.$0.Els, fU);else { const fW=fT.$1;const fX=fT.$0;fT=fX;fU=cB(fS, fW, fU);} } }
function cC(fS, fT){ return ex(ey(), cH(fS, dP(), fT));}
function cD(fS, fT, fU){ if(dy()){ const fV=null;return C(() => { const fW=ez(fU);const fX=cL(fT, fW);const fY=cK(fT, fW);return D(dz(dA(fX, cJ(fT, fW))), () => D(cI(fS, fT), () => D(dz(fY), () => { fT.PreviousNodes=fW;return E(null);})));});} else return cI(fS, fT);}
function cE(fS, fT, fU){ const fV=ez(fU);cM(fS, fT.Top);fT.PreviousNodes=fV;}
function cF(fS, fT){ const fU=fS.parentNode;const fV=globalThis.document.createTextNode("");fU.insertBefore(fV, fS);cP(fS, fT);return fV;}
function cG(fS, fT, fU){ ds(fS, fU, fT);return fT;}
function cH(fS, fT, fU){ cA(fS, fU);const fV=dJ(fS, fT);return cW.New(fV, fU, null, fS, cX(), fN(fV.OnAfterRender));}
function cI(fS, fT){ if(dF()){ const fU=(fV) => { requestAnimationFrame(() => { cM(fS, fT.Top);fV();});};return L((fV, fW, fX) => fU.apply(null, [fV, fW, fX]));} else { cM(fS, fT.Top);return E(null);} }
function cJ(fS, fT){ return dD(bJ((fU) => dR(fU.Attr), eD(eC(fT, eB((fU) => dQ(fU.Attr), fS.PreviousNodes)))));}
function cK(fS, fT){ return dD(bJ((fU) => dT(fU.Attr), eD(eC(fS.PreviousNodes, eB((fU) => dS(fU.Attr), fT)))));}
function cL(fS, fT){ const fU=(fW) => dU(fW.Attr);const fV=(fW) => eB(fU, fW);return dD(bJ((fW) => dV(fW.Attr), eD(eE(fV(fS.PreviousNodes), fV(fT)))));}
function cM(fS, fT){!fS?cQ(fT):void 0;cR(fT.Children);cS(fT);}
function cN(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cO(fS, fT){ fS.Value=fT;fS.Dirty=true;}
function cP(fS, fT){ cB(fS.parentNode, fT, fS);}
function cQ(fS){ function fT(fU){ function fV(fW){ while(true){ if(fW!=null&&fW.$==0){ const fX=fW.$1;const fY=fW.$0;if(fV(fY))return true;else fW=fX;} else if(fW!=null&&fW.$==2){ const fZ=fW.$0;if(fZ.Dirty)return true;else fW=fZ.Current;} else if(fW!=null&&fW.$==6){ const f0=fW.$0;return f0.Dirty||bF(fT, f0.Holes);} else return false;} } return fV(fU.Children);} dY(fS.El, fS.Attr);if(fT(fS))cT(fS);}
function cR(fS){ while(true){ if(fS!=null&&fS.$==1)return cM(false, fS.$0);else if(fS!=null&&fS.$==2){ const fT=fS.$0;fS=fT.Current;} else if(fS==null)return null;else if(fS!=null&&fS.$==5)return null;else if(fS!=null&&fS.$==4){ const fU=fS.$0;return fU.Dirty?(fU.Text.nodeValue=fU.Value,fU.Dirty=false):null;} else if(fS!=null&&fS.$==6){ const fV=fS.$0;bH((fY) => { cM(false, fY);}, fV.Holes);bH((fY) => { dY(fY[0], fY[1]);}, fV.Attrs);return cS(fV);} else { const fW=fS.$1;const fX=fS.$0;cR(fX);fS=fW;} } }
function cS(fS){ const fT=fN(fS.Render);if(fT!=null&&fT.$==1){ fT.$0(fS.El);fL(fS, "Render", null);} }
function cT(fS){ const fT=fS.El;function fU(fY, fZ){ while(true){ if(fY!=null&&fY.$==1)return fY.$0.El;else if(fY!=null&&fY.$==2){ const f0=fY.$0;if(f0.Dirty){ f0.Dirty=false;return cB(fT, f0.Current, fZ);} else fY=f0.Current;} else if(fY==null)return fZ;else if(fY!=null&&fY.$==4)return fY.$0.Text;else if(fY!=null&&fY.$==5)return fY.$0;else if(fY!=null&&fY.$==6){ const f1=fY.$0;if(f1.Dirty)f1.Dirty=false;return bI((f4, f5) => f4==null||f4.constructor===Object?fU(f4, f5):f4, f1.Els, fZ);} else { const f2=fY.$1;const f3=fY.$0;fY=f3;fZ=fU(f2, fZ);} } } const fV=fS.El;fx((fY) => { dt(fV, fY);}, fw(fy(fS), fv(fS.El, fN(fS.Delimiters))));let fW=fS.Children;const fX=fN(fS.Delimiters);fU(fW, fX!=null&&fX.$==1?fX.$0[1]:null);}
class cU extends Error { ct;static New(fS){ return new this("New", fS);} static New_1(fS, fT, fU){ return new this("New_1", fS, fT, fU);} constructor(fS, fT, fU, fV){ let fW;if(fS=="New"){ fW=fT;fS="New_1";fT="The operation was canceled.";fU=null;fV=fW;} if(fS=="New_1"){ const fX=fT;const fY=fU;const fZ=fV;super(fX);this.inner=fY;this.ct=fZ;} } }
class cV extends h { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
class cW { Attr;Children;Delimiters;El;ElKey;Render;Equals(fS){ return this.ElKey===fS.ElKey;} GetHashCode(){ return this.ElKey;} static New(fS, fT, fU, fV, fW, fX){ const fY={Attr:fS, Children:fT, El:fV, ElKey:fW};let fZ=(fL(fY, "Delimiters", fU),fL(fY, "Render", fX),fY);return fQ(cW, fZ);} }
function cX(){ cY(cZ()+1);return cZ();}
function cY(fS){ eP.counter=fS;}
function cZ(){ return eP.counter;}
function c0(fS, fT){ return{$:2, $0:fS, $1:fT};}
function c1(fS){ return{$:0, $0:fS};}
function c2(fS, fT){ return{$:3, $0:fS, $1:fT};}
class c3 extends be { docNode_1;updates_1;elt;rvUpdates;static TreeNode(fS, fT){ const fU=ev.Create(fT);const fV=bJ((fY) => dK(fY[1]), fS.Attrs);let fW=es(c4(), c_, fV);let fX=c_(fW, fU.v);return new c3(b2(fS), fX, j(fS.Els, 0), fU);} constructor(fS, fT, fU, fV){ super(fS, fT);this.docNode_1=fS;this.updates_1=fT;this.elt=fU;this.rvUpdates=fV;} }
function c4(fS){ const fT={s:c1(fS)};return() => fT;}
function c5(fS, fT){ function fU(){ b8(fT(), fS, () => { K().Fork(fU);});} K().Fork(fU);}
function c6(fS, fT){ return c$(() => b9(fS, fT()));}
function c7(fS, fT, fU, fV){ return c$(() => b_(fS, fT(), fU(), fV()));}
function c8(fS){ return c$(() => b$(br((fT) => fT(), fS)));}
function c9(fS, fT, fU){ return c$(() => ca(fS, fT(), fU()));}
function c_(fS, fT){ return c$(() => cb(fS(), fT()));}
function c$(fS){ const fT={c:null, o:fS};return() => { let fU=fT.c;if(fU===null){ fU=fT.o();fT.c=fU;const fV=fU.s;if(fV!=null&&fV.$==0)fT.o=null;else cd(fU, () => { fT.c=null;});return fU;} else return fU;};}
function da(fS){ let fT=null;let fU=0;const fV=fS.textContent;const fW=new RegExp(bd(), "g");while(fT=fW.exec(fV),fT!==null){ fS.parentNode.insertBefore(globalThis.document.createTextNode(di(fV, W(fU), W(fW.lastIndex-j(fT, 0).length-1))), fS);fU=fW.lastIndex;const fX=globalThis.document.createElement("span");fX.setAttribute("ws-replace", j(fT, 1).toLowerCase());fS.parentNode.insertBefore(fX, fS);} fW.lastIndex=0;fS.textContent=di(fV, W(fU), null);}
function db(fS){ console.warn("Instantiating non-loaded template", fS);}
function dc(fS, fT, fU){ const fV=fS.querySelector("[ws-replace]");return p(fV, null)?(console.warn("Filling non-existent text hole", fU),null):(fV.parentNode.replaceChild(globalThis.document.createTextNode(fT), fV),W(fV.getAttribute("ws-replace")));}
function dd(fS, fT){ const fU=(fV) => { ba(fS, "["+fV+"]", (fW) => { if(!fT.Contains(fW.getAttribute(fV)))fW.removeAttribute(fV);});};fU("ws-attr");fU("ws-onafterrender");fU("ws-var");ba(fS, "[ws-hole]", (fV) => { if(!fT.Contains(fV.getAttribute("ws-hole"))){ fV.removeAttribute("ws-hole");while(fV.hasChildNodes())fV.removeChild(fV.lastChild);} });ba(fS, "[ws-replace]", (fV) => { if(!fT.Contains(fV.getAttribute("ws-replace")))fV.parentNode.removeChild(fV);});ba(fS, "[ws-on]", (fV) => { fV.setAttribute("ws-on", ek(" ", bK((fW) => fT.Contains(j(el(fW, [":"], 1), 1)), el(fV.getAttribute("ws-on"), [" "], 1))));});ba(fS, "[ws-attr-holes]", (fV) => { const fW=el(fV.getAttribute("ws-attr-holes"), [" "], 1);for(let f0=0, f1=fW.length-1;f0<=f1;f0++){ const fX=j(fW, f0);let fY=new RegExp(bd(), "g");let fZ=fV.getAttribute(fX).replace(fY, (f2, f3) => fT.Contains(f3)?f2:"");fV.setAttribute(fX, fZ);} });}
function de(fS, fT){ dh(fT);const fU=fT.nodeName.toLowerCase();const fV=fS.querySelector("[ws-attr="+fU+"]");if(p(fV, null))console.warn("Filling non-existent attr hole", fU);else { fV.removeAttribute("ws-attr");for(let fX=0, fY=fT.attributes.length-1;fX<=fY;fX++){ const fW=fT.attributes.item(fX);if(fW.name=="class"&&fV.hasAttribute("class"))fV.setAttribute("class", fV.getAttribute("class")+" "+fW.nodeValue);else fV.setAttribute(fW.name, fW.nodeValue);} } }
function df(fS, fT){ const fU=(fV) => { ba(fS, "["+fV+"]", (fW) => { let fX;const fY=(fX=null,[fT.TryGetValue(fW.getAttribute(fV).toLowerCase(), {get:() => fX, set:(fZ) => { fX=fZ;}}), fX]);if(fY[0])fW.setAttribute(fV, fY[1]);});};fU("ws-hole");fU("ws-replace");fU("ws-attr");fU("ws-onafterrender");fU("ws-var");ba(fS, "[ws-on]", (fV) => { fV.setAttribute("ws-on", ek(" ", bJ((fW) => { let fX;const fY=el(fW, [":"], 1);const fZ=(fX=null,[fT.TryGetValue(j(fY, 1), {get:() => fX, set:(f0) => { fX=f0;}}), fX]);return fZ[0]?j(fY, 0)+":"+fZ[1]:fW;}, el(fV.getAttribute("ws-on"), [" "], 1))));});ba(fS, "[ws-attr-holes]", (fV) => { const fW=el(fV.getAttribute("ws-attr-holes"), [" "], 1);for(let fX=0, fY=fW.length-1;fX<=fY;fX++)((() => { const fZ=j(fW, fX);return fV.setAttribute(fZ, bp((f0, f1) => { const f2=f(f1);return f0.replace(new RegExp("\\${"+f2[0]+"}", "ig"), "${"+f2[1]+"}");}, fV.getAttribute(fZ), fT));})());});}
function dg(fS, fT, fU){ while(true){ if(fS.hasChildNodes())fU=fT.insertBefore(fS.lastChild, fU);else return null;} }
function dh(fS){ const fT=fS.attributes;const fU=[];const fV=[];const fW=[];for(let f1=0, f2=fT.length-1;f1<=f2;f1++){ const fX=fT.item(f1);if(em(fX.nodeName, "ws-on")&&fX.nodeName!="ws-onafterrender"&&fX.nodeName!="ws-on"){ fU.push(fX.nodeName);fV.push(di(fX.nodeName, W("ws-on".length), null)+":"+fX.nodeValue.toLowerCase());} else if(!em(fX.nodeName, "ws-")&&(new RegExp(bd())).test(fX.nodeValue)){ let fY=new RegExp(bd(), "g");let fZ=fX.nodeValue.replace(fY, (f3, f4) =>"${"+f4.toLowerCase()+"}");fX.nodeValue=fZ;fW.push(fX.nodeName);} else void 0;} if(!(fV.length==0))fS.setAttribute("ws-on", ek(" ", fV));if(!(fW.length==0))fS.setAttribute("ws-attr-holes", ek(" ", fW));const f0=(f3) => { const f4=fS.getAttribute(f3);if(f4==null){ } else fS.setAttribute(f3, f4.toLowerCase());};f0("ws-hole");f0("ws-replace");f0("ws-attr");f0("ws-onafterrender");f0("ws-var");bH((f3) => { fS.removeAttribute(f3);}, fU);}
function di(fS, fT, fU){ if(fT==null){ if(fU!=null&&fU.$==1){ const fV=fU.$0;return fV<0?"":fS.slice(0, fV+1);} else return"";} else if(fU==null)return fS.slice(fT.$0);else { const fW=fU.$0;return fW<0?"":fS.slice(fT.$0, fW+1);} }
function dj(fS){ const fT=globalThis.document.createElement("div");if(!dl().test(fS)){ fT.appendChild(globalThis.document.createTextNode(fS));return fT;} else { const fU=dp().exec(fS);const fV=p(fU, null)?"":j(fU, 1).toLowerCase();const fW=(dm())[fV];const fX=fW?fW:dn();fT.innerHTML=fX[1]+fS.replace(do_1(), "<$1></$2>")+fX[2];function fY(fZ, f0){ while(true){ if(f0===0)return fZ;else { const f1=f0;fZ=fZ.lastChild;f0=f1-1;} } } return fY(fT, fX[0]);} }
function dk(fS){ const fT=[];for(let fU=0, fV=fS.childNodes.length-1;fU<=fV;fU++)fT.push(fS.childNodes[fU]);return fT;}
function dl(){ return eQ.rhtml;}
function dm(){ return eQ.wrapMap;}
function dn(){ return eQ.defaultWrap;}
function do_1(){ return eQ.rxhtmlTag;}
function dp(){ return eQ.rtagName;}
function dq(fS, fT, fU){ const fV=fS.querySelectorAll(fT);for(let fW=0, fX=fV.length-1;fW<=fX;fW++)fU(fV[fW]);}
function dr(fS, fT){ const fU=globalThis.document.querySelectorAll(fS);for(let fV=0, fW=fU.length-1;fV<=fW;fV++)fT(fU[fV]);}
function ds(fS, fT, fU){ let fV;if(fU.parentNode===fS){ const fW=fU.nextSibling;let fX=p(fW, null)?null:fW;fV=fT===fX;} else fV=false;if(!fV)fS.insertBefore(fU, fT);}
function dt(fS, fT){ if(fT.parentNode===fS)fS.removeChild(fT);}
function du(){ return e("The input sequence has an insufficient number of elements.");}
function dv(fS, fT){ let fU=true;let fV=0;while(fU&&fV<m(fT))if(p(fT[fV], fS))fU=false;else fV=fV+1;return!fU;}
function dw(){ return e("The input must be non-negative.");}
class dx extends h { d;GetEnumerator(){ return cu(br((fS) => fS.K, this.d));} constructor(fS){ super();this.d=fS;} }
function dy(){ return eF();}
function dz(fS){ const fT=null;return C(() => D(dB(() => { }, eG(fS)), () => { eH(fS);return E(null);}));}
function dA(fS, fT){ return dC(eS(fS.$0, fT.$0));}
function dB(fS, fT){ const fU=fT.Duration;if(fU===0)return M();else { const fV=(fW) => { function fX(fY){ return(fZ) => { const f0=fZ-fY;fT.Compute(f0);fS();return f0<=fU?void requestAnimationFrame((f1) => {(fX(fY))(f1);}):fW();};} requestAnimationFrame((fY) => {(fX(fY))(fY);});};return L((fW, fX, fY) => fV.apply(null, [fW, fX, fY]));} }
function dC(fS){ return{$:0, $0:fS};}
function dD(fS){ return dC(eU(br(eJ, fS)));}
function dE(){ return dC(eV());}
function dF(){ return eN.BatchUpdatesEnabled;}
function dG(fS){ const fT=[0];function fU(){ const fV=null;return C(() => D(fS, () => { const fW=fT[0];return p(fW, 1)?(fT[0]=0,M()):p(fW, 2)?(fT[0]=1,fU()):M();}));} return() => { const fV=fT[0];if(p(fV, 0)){ fT[0]=1;F(fU(), null);} else p(fV, 1)?fT[0]=2:void 0;};}
function dH(fS, fT, fU, fV){ const fW={DynElem:fS, DynFlags:fT, DynNodes:fU};fL(fW, "OnAfterRender", fV);return fW;}
function dI(fS){ let fT;const fU=fS.s;if(fU==null||(fU!=null&&fU.$==2?(fT=fU.$1,false):fU!=null&&fU.$==3?(fT=fU.$1,false):true))void 0;else { fS.s=null;for(let fW=0, fX=m(fT)-1;fW<=fX;fW++){ const fV=j(fT, fW);if(typeof fV=="object")(((fY) => { dI(fY);})(fV));else fV();} } }
function dJ(fS, fT){ const fU=[];const fV=[];function fW(fZ){ while(true){ if(!(fZ===null)){ if(fZ!=null&&fZ.$==1)return fU.push(fZ.$0);else if(fZ!=null&&fZ.$==2){ const f0=fZ.$1;const f1=fZ.$0;fW(f1);fZ=f0;} else return fZ!=null&&fZ.$==3?fZ.$0(fS):fZ!=null&&fZ.$==4?fV.push(fZ.$0):null;} else return null;} } fW(fT);const fX=fU.slice(0);let fY=dH(fS, dM(fT), fX, fV.length===0?null:W((fZ) => { bq((f0) => { f0(fZ);}, fV);}));return fY;}
function dK(fS){ return et((fT) => fT.NChanged, c4(), c_, fS.DynNodes);}
function dL(fS){ return dH(fS, 0, [], null);}
function dM(fS){ return fS!==null&&fS.hasOwnProperty("flags")?fS.flags:0;}
function dN(fS){ return ee.A3(fS);}
function dO(fS, fT){ return ee.A1(new eW(fS, fT));}
function dP(){ return eY.EmptyAttr;}
function dQ(fS){ const fT=2;return(fS.DynFlags&fT)===fT;}
function dR(fS){ return dX(fS, (fT, fU) => fT.NGetExitAnim(fU));}
function dS(fS){ const fT=1;return(fS.DynFlags&fT)===fT;}
function dT(fS){ return dX(fS, (fT, fU) => fT.NGetEnterAnim(fU));}
function dU(fS){ const fT=4;return(fS.DynFlags&fT)===fT;}
function dV(fS){ return dX(fS, (fT, fU) => fT.NGetChangeAnim(fU));}
function dW(fS, fT){ if(fS===null)return fT;else if(fT===null)return fS;else { const fU=ee.A2(fS, fT);dZ(fU, dM(fS)|dM(fT));return fU;} }
function dX(fS, fT){ return dD(bJ((fU) => fT(fU, fS.DynElem), fS.DynNodes));}
function dY(fS, fT){ bH((fU) => { fU.NSync(fS);}, fT.DynNodes);}
function dZ(fS, fT){ fS.flags=fT;}
class d0 extends R { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d1 extends R { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} get AsChoiceView(){ return eh(this.fillWith);} }
class d2 extends R { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d3 extends R { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function d4(fS, fT){ return dN((fU) => { fU.addEventListener(fS, (fV) =>(fT(fU))(fV), false);});}
function d5(fS){ return ee.A4(fS);}
function d6(fS, fT){ return dO(fT, (fU) =>(fV) => fU.setAttribute(fS, fV));}
function d7(fS){ return eb(fn(), fS);}
function d8(fS){ return eb(fo(), fS);}
function d9(fS){ return eb(fp(), fS);}
function d_(fS){ return eb(fq(), fS);}
function d$(fS){ return eb(fr(), fS);}
function ea(fS){ return eb(fs(), fS);}
function eb(fS, fT){ const fU=fS(fT);return ee.Append(dN(fU[0]), ec(fU[1], fU[2]));}
function ec(fS, fT){ return dO(fT, fS);}
class ed extends R { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class ee { static Handler(fS, fT){ return ee.HandlerImpl(fS, fT);} static Concat(fS){ const fT=eu(fS);return es(dP(), ee.Append, fT);} static Create(fS, fT){ return dN((fU) => { fU.setAttribute(fS, fT);});} static HandlerImpl(fS, fT){ return dN((fU) => { fU.addEventListener(fS, (fV) =>(fT(fU))(fV), false);});} static Append(fS, fT){ return dW(fS, fT);} static A4(fS){ return fQ(ee, {$:4, $0:fS});} static A3(fS){ return fQ(ee, {$:3, $0:fS});} static A1(fS){ return fQ(ee, {$:1, $0:fS});} static A2(fS, fT){ return fQ(ee, {$:2, $0:fS, $1:fT});} }
class ef extends R { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class eg extends R { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function eh(fS){ return{$:0, $0:fS};}
function ei(fS){ return{$:1, $0:fS};}
class ej { static Cons(fS, fT){ return fQ(ej, {$:1, $0:fS, $1:fT});} static Empty=fQ(ej, {$:0});GetEnumerator(){ return new cy(this, null, (fS) => { const fT=fS.s;return fT.$==0?false:(fS.c=fT.$0,fS.s=fT.$1,true);}, void 0);} }
function ek(fS, fT){ return bL(fT).join(fS);}
function el(fS, fT, fU){ return en(fS, new RegExp("["+eo(fT.join(""))+"]"), fU);}
function em(fS, fT){ return fS.substring(0, fT.length)==fT;}
function en(fS, fT, fU){ return fU===1?bK((fV) => fV!=="", ep(fS, fT)):ep(fS, fT);}
function eo(fS){ return fS.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function ep(fS, fT){ return fS.split(fT);}
function eq(fS, fT){ return bA(fS, er(fT));}
function er(fS){ return fS==null?"":fS;}
function es(fS, fT, fU){ const fV=m(fU);function fW(fX){ return(fY) => { let fZ;switch(fY<=0?0:fY===1?fX>=0&&fX<fV?1:(fZ=fY,2):(fZ=fY,2)){ case 0:return fS;case 1:return j(fU, fX);case 2:const f0=fY/2>>0;return fT((fW(fX))(f0), (fW(fX+f0))(fY-f0));} };} return(fW(0))(fV);}
function et(fS, fT, fU, fV){ const fW=m(fV);function fX(fY){ return(fZ) => { let f0;switch(fZ<=0?0:fZ===1?fY>=0&&fY<fW?1:(f0=fZ,2):(f0=fZ,2)){ case 0:return fT;case 1:return fS(j(fV, fY));case 2:const f1=fZ/2>>0;return fU((fX(fY))(f1), (fX(fY+f1))(fZ-f1));} };} return(fX(0))(fW);}
function eu(fS){ if(fS instanceof Array)return fS;else if(fS instanceof ej)return bN(fS);else if(fS===null)return[];else { const fT=[];const fU=cu(fS);try { while(fU.MoveNext())fT.push(fU.Current);return fT;} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} } }
class ev { c;s;v;static Create(fS){ let fT;fT=null;fT=ev.New(fS, null, () => { let fU;fU=fT.s;return fU===null?(fU=cc(fT.c()),fT.s=fU,cd(fU, () => { fT.s=null;}),fU):fU;});return fT;} static New(fS, fT, fU){ return fQ(ev, {c:fS, s:fT, v:fU});} }
class ew extends h { d;GetEnumerator(){ return cu(br((fS) => fS.V, this.d));} constructor(fS){ super();this.d=fS;} }
function ex(fS, fT){ return{PreviousNodes:fS, Top:fT};}
function ey(){ return eA(new bm("New_3"));}
function ez(fS){ const fT=[];function fU(fX, fY){ while(true)switch(fX){ case 0:if(fY!=null&&fY.$==0){ const fZ=fY.$1;const f0=fY.$0;fU(0, f0);fY=fZ;} else if(fY!=null&&fY.$==1){ const f1=fY.$0;fY=f1;fX=1;} else if(fY!=null&&fY.$==2){ const f2=fY.$0;fY=f2.Current;} else if(fY!=null&&fY.$==6){ const f3=fY.$0.Holes;return(((f4) =>(f5) => { bH(f4, f5);})(fW))(f3);} else return null;break;case 1:fT.push(fY);fY=fY.Children;fX=0;break;} } function fV(fX){ return fU(0, fX);} function fW(fX){ return fU(1, fX);} fV(fS);return eA(new bm("New_2", fT));}
function eA(fS){ return{$:0, $0:fS};}
function eB(fS, fT){ return eA(e0(fS, fT.$0));}
function eC(fS, fT){ return eA(e1(fS.$0, fT.$0));}
function eD(fS){ return e2(fS.$0);}
function eE(fS, fT){ return eA(e3(fS.$0, fT.$0));}
function eF(){ return eR.UseAnimations;}
function eG(fS){ return eI(bC((fT) => fT.$==1?W(fT.$0):null, eT(fS.$0)));}
function eH(fS){ bH((fT) => { if(fT.$==0)fT.$0();}, eT(fS.$0));}
function eI(fS){ const fT=eu(fS);const fU=m(fT);if(fU===0)return eK();else if(fU===1)return j(fT, 0);else { const fV=bu(br((fX) => fX.Duration, fT));const fW=bJ((fX) => eM(fV, fX), fT);return eL(fV, (fX) => { bH((fY) => { fY.Compute(fX);}, fW);});} }
function eJ(fS){ return fS.$0;}
function eK(fS){ return eL(0, () => fS);}
function eL(fS, fT){ return{Compute:fT, Duration:fS};}
function eM(fS, fT){ const fU=fT.Compute;const fV=fT.Duration;const fW=fD(() => fT.Compute(fT.Duration));return{Compute:(fX) => fX>=fV?fW.f():fU(fX), Duration:fS};}
let eN=fM((fS) => class fT { static { eN=fS(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eO(fS){ let fT=[];let fU;for(var fV in fS)fT.push.apply(fT, fS[fV]);return fT;}
let eP=fM((fS) => class fT { static { eP=fS(this);} static counter;static { this.counter=0;} });
let eQ=fM((fS) => class fT { static { eQ=fS(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fU=[1, "<table>", "</table>"];let fV=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fU], ["tbody", fU], ["tfoot", fU], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fV;this.defaultWrap=[0, "", ""];} });
let eR=fM((fS) => class fT { static { eR=fS(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=eZ.Custom((fU) => { const fV=fU*fU;return 3*fV-2*(fV*fU);});this.UseAnimations=true;} });
function eS(fS, fT){ return fS.$==0?fT:fT.$==0?fS:{$:2, $0:fS, $1:fT};}
function eT(fS){ const fT=[];function fU(fV){ while(true){ if(fV.$==1)return fT.push(fV.$0);else if(fV.$==2){ const fW=fV.$1;const fX=fV.$0;fU(fX);fV=fW;} else return fV.$==3?bH((fY) => { fT.push(fY);}, fV.$0):null;} } fU(fS);return fT.slice(0);}
function eU(fS){ const fT=eu(fS);return es(eV(), eS, fT);}
function eV(){ return fG.Empty;}
class eW extends h { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fS){ return dE();} NGetEnterAnim(fS){ return dE();} NGetChangeAnim(fS){ return dE();} NSync(fS){ if(this.dirty){(this.push(fS))(this.value);this.dirty=false;} } constructor(fS, fT){ super();this.push=fT;this.value=void 0;this.dirty=false;this.updates=c6((fU) => { this.value=fU;this.dirty=true;}, fS);} }
class eX extends Error { static New(){ return new this("New");} static New_1(fS){ return new this("New_1", fS);} constructor(fS, fT){ if(fS=="New"){ fS="New_1";fT="The given key was not present in the dictionary.";} if(fS=="New_1"){ const fU=fT;super(fU);} } }
let eY=fM((fS) => class fT { static { eY=fS(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(f_) =>[(f$) => { f$.addEventListener("change", () => f_.Get()!=f$.checked?f_.Set(f$.checked):null);}, (f$) =>(ga) => ga!=null&&ga.$==1?void(f$.checked=ga.$0):null, c6(W, f_.View)];this.StringSet=(f_) =>(f$) => { f_.value=f$;};this.StringGet=(f_) => W(f_.value);const fU=e9();const fV=e8();this.StringApply=(f_) => e7(fU, fV, f_);this.StringListSet=(f_) =>(f$) => { const ga=f_.options;for(let gb=0, gc=ga.length-1;gb<=gc;gb++)((() => { const gd=ga.item(gb);gd.selected=dv(gd.value, f$);})());};this.StringListGet=(f_) => { const f$=f_.selectedOptions;return W(bL(bs(() => bt((ga) =>[f$.item(ga).value], g(0, f$.length-1)))));};const fW=e$();const fX=e_();this.StringListApply=(f_) => e7(fW, fX, f_);this.DateTimeSetUnchecked=(f_) =>(f$) => { f_.value=(new Date(f$)).toLocaleString();};this.DateTimeGetUnchecked=(f_) => { let f$;let ga;const gb=f_.value;if(ft(gb))return W(-8640000000000000);else { f$=0;const gc=fB(gb);let gd=gc!=null&&gc.$==1&&(f$=gc.$0,true);ga=[gd, f$];return ga[0]?W(ga[1]):null;} };const fY=fb();const fZ=fa();this.DateTimeApplyUnchecked=(f_) => e7(fY, fZ, f_);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(f_) => { const f$=f_.files;return W(bL(bs(() => br((ga) => f$.item(ga), g(0, f$.length-1)))));};const f0=fe();const f1=fd();this.FileApplyUnchecked=(f_) => fc(f0, f1, f_);this.IntSetUnchecked=(f_) =>(f$) => { f_.value=String(f$);};this.IntGetUnchecked=(f_) => { const f$=f_.value;if(ft(f$))return W(0);else { const ga=+f$;return ga!==ga>>0?null:W(ga);} };const f2=fg();const f3=ff();this.IntApplyUnchecked=(f_) => e7(f2, f3, f_);this.IntSetChecked=(f_) =>(f$) => { const ga=f$.Input;return f_.value!=ga?void(f_.value=ga):null;};this.IntGetChecked=(f_) => { let f$;let ga;const gb=f_.value;if(ft(gb))f$=(f_.checkValidity?f_.checkValidity():true)?fu.Blank(gb):fu.Invalid(gb);else { const gc=(ga=0,[b6(gb, {get:() => ga, set:(gd) => { ga=gd;}}), ga]);f$=gc[0]?fu.Valid(gc[1], gb):fu.Invalid(gb);} return W(f$);};const f4=fi();const f5=fh();this.IntApplyChecked=(f_) => e7(f4, f5, f_);this.FloatSetUnchecked=(f_) =>(f$) => { f_.value=String(f$);};this.FloatGetUnchecked=(f_) => { const f$=f_.value;if(ft(f$))return W(0);else { const ga=+f$;return isNaN(ga)?null:W(ga);} };const f6=fk();const f7=fj();this.FloatApplyUnchecked=(f_) => e7(f6, f7, f_);this.FloatSetChecked=(f_) =>(f$) => { const ga=f$.Input;return f_.value!=ga?void(f_.value=ga):null;};this.FloatGetChecked=(f_) => { let f$;const ga=f_.value;if(ft(ga))f$=(f_.checkValidity?f_.checkValidity():true)?fu.Blank(ga):fu.Invalid(ga);else { const gb=+ga;f$=isNaN(gb)?fu.Invalid(ga):fu.Valid(gb, ga);} return W(f$);};const f8=fm();const f9=fl();this.FloatApplyChecked=(f_) => e7(f8, f9, f_);} });
class eZ extends h { transformTime;static Custom(fS){ return new eZ(fS);} constructor(fS){ super();this.transformTime=fS;} }
function e0(fS, fT){ return new bm("New_2", bK(fS, e2(fT)));}
function e1(fS, fT){ const fU=new bm("New_2", e2(fT));fU.ExceptWith(e2(fS));return fU;}
function e2(fS){ const fT=bP(fS.Count, void 0);fS.CopyTo(fT, 0);return fT;}
function e3(fS, fT){ const fU=new bm("New_2", e2(fS));fU.IntersectWith(e2(fT));return fU;}
function e4(fS){ return fS.$==1?fS.$0:e6();}
function e5(fS){ return fS.$==1?fS.$1:e6();}
function e6(){ return e("The input list was empty.");}
function e7(fS, fT, fU){ let fV;fV=null;return[(fW) => { const fX=() => { fU.UpdateMaybe((fY) => { let fZ;fV=fS(fW);return fV!=null&&fV.$==1&&(!p(fV.$0, fY)&&(fZ=[fV, fV.$0],true))?fZ[0]:null;});};fW.addEventListener("change", fX);fW.addEventListener("input", fX);fW.addEventListener("keypress", fX);}, (fW) => { const fX=fT(fW);return(fY) => fY==null?null:fX(fY.$0);}, c6((fW) => { let fX;return fV!=null&&fV.$==1&&(p(fV.$0, fW)&&(fX=fV.$0,true))?null:W(fW);}, fU.View)];}
function e8(){ return eY.StringSet;}
function e9(){ return eY.StringGet;}
function e_(){ return eY.StringListSet;}
function e$(){ return eY.StringListGet;}
function fa(){ return eY.DateTimeSetUnchecked;}
function fb(){ return eY.DateTimeGetUnchecked;}
function fc(fS, fT, fU){ let fV;fV=null;return[(fW) => { fW.addEventListener("change", () => { fU.UpdateMaybe((fX) => { let fY;fV=fS(fW);return fV!=null&&fV.$==1&&(fV.$0!==fX&&(fY=[fV, fV.$0],true))?fY[0]:null;});});}, (fW) => { const fX=fT(fW);return(fY) => fY==null?null:fX(fY.$0);}, c6((fW) => { let fX;return fV!=null&&fV.$==1&&(p(fV.$0, fW)&&(fX=fV.$0,true))?null:W(fW);}, fU.View)];}
function fd(){ return eY.FileSetUnchecked;}
function fe(){ return eY.FileGetUnchecked;}
function ff(){ return eY.IntSetUnchecked;}
function fg(){ return eY.IntGetUnchecked;}
function fh(){ return eY.IntSetChecked;}
function fi(){ return eY.IntGetChecked;}
function fj(){ return eY.FloatSetUnchecked;}
function fk(){ return eY.FloatGetUnchecked;}
function fl(){ return eY.FloatSetChecked;}
function fm(){ return eY.FloatGetChecked;}
function fn(){ return eY.StringApply;}
function fo(){ return eY.FloatApplyUnchecked;}
function fp(){ return eY.BoolCheckedApply;}
function fq(){ return eY.DateTimeApplyUnchecked;}
function fr(){ return eY.FileApplyUnchecked;}
function fs(){ return eY.StringListApply;}
function ft(fS){ return eq(fA, fS);}
class fu { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fS){ return fQ(fu, {$:2, $0:fS});} static Invalid(fS){ return fQ(fu, {$:1, $0:fS});} static Valid(fS, fT){ return fQ(fu, {$:0, $0:fS, $1:fT});} }
function fv(fS, fT){ let fU;if(fT!=null&&fT.$==1){ const fV=[];fU=fT.$0[0].nextSibling;while(fU!==fT.$0[1]){ fV.push(fU);fU=fU.nextSibling;} return fz(fV);} else { let fW=fS.childNodes.length;const fX=fS.childNodes;let fY=bQ(fW, (fZ) => fX[fZ]);return fz(fY);} }
function fw(fS, fT){ const fU=fS.$0;return fz(bK((fV) => bO((fW) =>!(fV===fW), fU), fT.$0));}
function fx(fS, fT){ bH(fS, fT.$0);}
function fy(fS){ const fT=[];function fU(fV){ while(true){ if(fV!=null&&fV.$==2){ const fW=fV.$0;fV=fW.Current;} else if(fV!=null&&fV.$==1)return fT.push(fV.$0.El);else if(fV==null)return null;else if(fV!=null&&fV.$==5)return fT.push(fV.$0);else if(fV!=null&&fV.$==4)return fT.push(fV.$0.Text);else if(fV!=null&&fV.$==6){ const fX=fV.$0.Els;return(((f0) =>(f1) => { bH(f0, f1);})((f0) => { if(f0==null||f0.constructor===Object)fU(f0);else fT.push(f0);}))(fX);} else { const fY=fV.$1;const fZ=fV.$0;fU(fZ);fV=fY;} } } fU(fS.Children);return fz(eu(fT));}
function fz(fS){ return{$:0, $0:fS};}
function fA(fS){ return fS.match(new RegExp("\\s"))!==null;}
function fB(fS){ const fT=Date.parse(fS);return isNaN(fT)?null:W(fT);}
function fC(fS, fT, fU, fV){ const fW=+fS;const fX=fW===fW-fW%1&&fW>=fT&&fW<=fU;if(fX)fV.set(fW);return fX;}
function fD(fS){ return fI(false, fS, fE);}
function fE(){ const fS=this.v();this.c=true;this.v=fS;this.f=fF;return fS;}
function fF(){ return this.v;}
let fG=fM((fS) => class fT { static { fG=fS(this);} static Empty;static { this.Empty={$:0};} });
function fH(fS){ fS.splice(0, m(fS));}
function fI(fS, fT, fU){ return{c:fS, v:fT, f:fU};}
fR(() => { b();});
fJ();


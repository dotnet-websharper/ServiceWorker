import { Start as fJ } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as fK, MarkResizable as fL, SetOptional as fM, Force as fN, GetOptional as fO, CreateFuncWithArgs as fP, DeleteEmptyFields as fQ, Create as fR, OnLoad as fS } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fT){ return"Dispose"in fT;}
function b(){ const fT=null;F(C(() => D(N(c()), () => E(null))), null);const fU=d().View;const fV=new n("New_1");const fW=(fV.h.push(new S("status", fU)),fV);const fX=V(fW.k, fW.h, []);const fY=new i(fX[1], A(fX[0]));let fZ=(fW.i=fY,fY);const f0=fZ.Doc;X("");be.RunById("main", f0);}
function c(){ try { return(globalThis.navigator.serviceWorker.register("service-worker.js").then(() => d().Set("Service Worker registered!")))["catch"]((fU) => d().Set("Service Worker failed: "+String(fU)));} catch(fU){ const fT=null;return new Promise((fV) => { fV((d().Set("Service Workers error: "+String(fU.message)+"."),Promise.resolve(null)));});} }
function d(){ return U.status;}
function e(fT){ throw new Error(fT);}
function f(fT){ return[fT.K, fT.V];}
function g(fT, fU){ const fV=1+fU-fT;return fV<=0?[]:bw(fV, (fW) => fW+fT);}
let h=fK((fT) => class fU { static { h=fT(this);} Equals(fV){ return this===fV;} GetHashCode(){ return -1;} });
let i=fK((fT) => class fU extends h { static { i=fT(this);} doc;allVars;anchorRoot;get Doc(){ return this.doc;} constructor(fV, fW){ super();this.doc=fW;this.allVars=fV.$==0?fV.$0:e("Should not happen");this.anchorRoot=null;} });
function j(fT, fU){ l(fT, fU);return fT[fU];}
function k(fT, fU, fV){ l(fT, fU);fT[fU]=fV;}
function l(fT, fU){ if(fU<0||fU>=fT.length)e("Index was outside the bounds of the array.");}
function m(fT){ return fT.dims===2?fT.length*fT.length:fT.length;}
let n=fK((fT) => class fU extends h { static { n=fT(this);} i;k;h;s;static New_1(){ return new this("New_1");} constructor(fV){ if(fV=="New_1"){ let fW;super();this.i=null;this.k=(fW=T(),String(fW));this.h=fL([]);fM(this, "s", null);} } });
let o=fK((fT) => class fU extends h { static { o=fT(this);} });
function p(fT, fU){ if(fT===fU)return true;else { const fV=typeof fT;if(fV=="object"){ if(fT===null||fT===void 0||fU===null||fU===void 0||!p(typeof fU, "object"))return false;else if("Equals"in fT)return fT.Equals(fU);else if("Equals"in fU)return false;else if(fT instanceof Array&&fU instanceof Array)return q(fT, fU);else if(fT instanceof Date&&fU instanceof Date)return r(fT, fU);else { const fW=[true];let fX;for(var fZ in fT)if(((f0) => { fW[0]=!fT.hasOwnProperty(f0)||fU.hasOwnProperty(f0)&&p(fT[f0], fU[f0]);return!fW[0];})(fZ))break;if(fW[0]){ let fY;for(var f0 in fU)if(((f1) => { fW[0]=!fU.hasOwnProperty(f1)||fT.hasOwnProperty(f1);return!fW[0];})(f0))break;} return fW[0];} } else return fV=="function"&&("$Func"in fT?fT.$Func===fU.$Func&&fT.$Target===fU.$Target:"$Invokes"in fT&&"$Invokes"in fU&&q(fT.$Invokes, fU.$Invokes));} }
function q(fT, fU){ let fV;let fW;if(m(fT)===m(fU)){ fV=true;fW=0;while(fV&&fW<m(fT)){!p(j(fT, fW), j(fU, fW))?fV=false:void 0;fW=fW+1;} return fV;} else return false;}
function r(fT, fU){ return fT.getTime()===fU.getTime();}
function s(fT){ const fU=typeof fT;return fU=="function"?0:fU=="boolean"?fT?1:0:fU=="number"?fT:fU=="string"?t(fT):fU=="object"?fT==null?0:fT instanceof Array?u(fT):v(fT):0;}
function t(fT){ let fU;if(fT===null)return 0;else { fU=5381;for(let fV=0, fW=fT.length-1;fV<=fW;fV++)fU=w(fU, fT[fV].charCodeAt());return fU;} }
function u(fT){ let fU=-34948909;for(let fV=0, fW=m(fT)-1;fV<=fW;fV++)fU=w(fU, s(j(fT, fV)));return fU;}
function v(fT){ if("GetHashCode"in fT)return fT.GetHashCode();else { const fU=[0];let fV;for(var fW in fT)if(((fX) => { fU[0]=w(w(fU[0], t(fX)), s(fT[fX]));return false;})(fW))break;return fU[0];} }
function w(fT, fU){ return(fT<<5)+fT+fU;}
function x(fT, fU){ if(fT===fU)return 0;else { const fV=typeof fT;switch(fV=="function"?1:fV=="boolean"?2:fV=="number"?2:fV=="string"?2:fV=="object"?3:0){ case 0:return typeof fU=="undefined"?0:-1;case 1:return e("Cannot compare function values.");case 2:return fT<fU?-1:1;case 3:if(fT===null)return -1;else if(fU===null)return 1;else if("CompareTo"in fT)return fT.CompareTo(fU);else if("CompareTo0"in fT)return fT.CompareTo0(fU);else if(fT instanceof Array&&fU instanceof Array)return y(fT, fU);else if(fT instanceof Date&&fU instanceof Date)return z(fT, fU);else { const fW=[0];let fX;for(var fZ in fT)if(((f0) =>!fT.hasOwnProperty(f0)?false:!fU.hasOwnProperty(f0)?(fW[0]=1,true):(fW[0]=x(fT[f0], fU[f0]),fW[0]!==0))(fZ))break;if(fW[0]===0){ let fY;for(var f0 in fU)if(((f1) =>!fU.hasOwnProperty(f1)?false:!fT.hasOwnProperty(f1)&&(fW[0]=-1,true))(f0))break;} return fW[0];} break;} } }
function y(fT, fU){ let fV;let fW;if(m(fT)<m(fU))return -1;else if(m(fT)>m(fU))return 1;else { fV=0;fW=0;while(fV===0&&fW<m(fT)){ fV=x(j(fT, fW), j(fU, fW));fW=fW+1;} return fV;} }
function z(fT, fU){ return x(fT.getTime(), fU.getTime());}
function A(fT){ X("index");return fT?Y("index", W("main"), fT):void 0;}
function B(fT){ const fU={};const fV=cu(fT);try { while(fV.MoveNext()){ const fW=fV.Current;fU[fW[0]]=fW[1];} } finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} return fU;}
function C(fT){ return(fU) => { try {(fT())(fU);} catch(fV){ fU.k(bg(fV));} };}
function D(fT, fU){ return G((fV) => { fT(bf((fW) => { if(fW.$==0){ const fX=fW.$0;K().Fork(() => { try {(fU(fX))(fV);} catch(fY){ fV.k(bg(fY));} });} else K().Fork(() => { fV.k(fW);});}, fV.ct));});}
function E(fT){ return(fU) => { fU.k(bh(fT));};}
function F(fT, fU){ const fV=(H())[0];const fW=fU==null?fV:fU.$0;K().Fork(() => { if(!fW.c)fT(bf((fX) => { if(fX.$==1)I(fX.$0);}, fW));});}
function G(fT){ return(fU) => { if(fU.ct.c)J(fU);else fT(fU);};}
function H(){ return b1.defCTS;}
function I(fT){ console.log("WebSharper: Uncaught asynchronous exception", fT);}
function J(fT){ fT.k(bi(new cU("New", fT.ct)));}
function K(){ return b1.scheduler;}
function L(fT){ return(fU) => { const fV=[false];const fW=(fX) => { if(fV[0])e("A continuation provided by Async.FromContinuations was invoked multiple times");else { fV[0]=true;K().Fork(fX);} };fT((fX) => { fW(() => { fU.k(bh(fX));});}, (fX) => { fW(() => { fU.k(bg(fX));});}, (fX) => { fW(() => { fU.k(bi(fX));});});};}
function M(){ return b1.Zero;}
function N(fT){ return L((fU, fV) => { fT.then(fU, (fW) => fV(O(fW)));});}
function O(fT){ return fT instanceof Error?fT:new b0(fT);}
function P(fT){ let fU=[];let fV;for(var fW in fT)fU.push(fT[fW]);return fU;}
let Q=fK((fT) => class fU extends h { static { Q=fT(this);} });
let R=fK((fT) => class fU extends h { static { R=fT(this);} ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fV, fW){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return eh("");} });
let S=fK((fT) => { fN(R);return class fU extends R { static { S=fT(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return W(this.fillWith);} get AsChoiceView(){ return ei(this.fillWith);} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} };});
function T(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fT) => { const fU=Math.random()*16|0;const fV=fT=="x"?fU:fU&3|8;return fV.toString(16);});}
let U=fK((fT) => class fU { static { U=fT(this);} static status;static { this.status=bl.Create_1("Checking service worker...");} });
function V(fT, fU, fV){ const fW=new bk("New_5");const fX=new bm("New_3");const fY=cu(fU);try { while(fY.MoveNext()){ const fZ=fY.Current;const f0=fZ.Name;fX.SAdd(f0);fW.set_Item(f0, fZ);} } finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} return[bn(fU, bC((f1) => { const f2=f1[0];const f3=f1[1];const f4=f1[2];if(fX.Contains(f2))return null;else { const f5=f3===0?bR.GetOrAddHoleFor(fT, f2, () => { const f6=f4==null?null:W(f4.$0);let f7=bl.Create_1(f6==null?"":f6.$0);return new bS(f2, f7);}):f3===1?bR.GetOrAddHoleFor(fT, f2, () => { const f6=f4==null?null:W(f4.$0);let f7=bl.Create_1(f6==null?0:f6.$0);return new bT(f2, f7);}):f3===2?bR.GetOrAddHoleFor(fT, f2, () => { const f6=f4==null?null:W(f4.$0);let f7=bl.Create_1(f6==null?false:f6.$0);return new bU(f2, f7);}):f3===3?bR.GetOrAddHoleFor(fT, f2, () => { const f6=f4==null?null:W(f4.$0);let f7=bl.Create_1(f6==null?-8640000000000000:f6.$0);return new bV(f2, f7);}):f3===4?bR.GetOrAddHoleFor(fT, f2, () => new bW(f2, bl.Create_1([]))):f3===5?bR.GetOrAddHoleFor(fT, f2, () => new bX(f2, bl.Create_1(W(globalThis.document.querySelector("[ws-dom="+f2+"]"))))):f3===6?bR.GetOrAddHoleFor(fT, f2, () => { const f6=f4==null?null:W(f4.$0);let f7=bl.Create_1(f6==null?[]:f6.$0);return new bY(f2, f7);}):e("Invalid value type");fW.set_Item(f2, f5);return W(f5);} }, fV)), {$:0, $0:fW}];}
function W(fT){ return{$:1, $0:fT};}
function X(fT){!Z()?(u0030(true),u0031(globalThis.document.body, "")):void 0;u0032().set_Item(fT, u0033(""));}
function Y(fT, fU, fV){ let fW;const fX=(fW=null,[u0033(fT).TryGetValue(fU==null?"":fU.$0, {get:() => fW, set:(fY) => { fW=fY;}}), fW]);return fX[0]?u0034(fX[1].cloneNode(true), fV):(console.warn("Local template doesn't exist", fU),be.Empty);}
function Z(){ return cz.LocalTemplatesLoaded;}
function u0030(fT){ cz.LocalTemplatesLoaded=fT;}
function u0031(fT, fU){ const fV=u0033(fU);const fW=new bk("New_5");const fX=fT.querySelectorAll("[ws-template]");for(let f9=0, f_=fX.length-1;f9<=f_;f9++){ const fY=fX[f9];const fZ=fY.getAttribute("ws-template").toLowerCase();fY.removeAttribute("ws-template");fW.set_Item(fZ, u0035(fY));} const f0=fT.querySelectorAll("[ws-children-template]");for(let f$=0, ga=f0.length-1;f$<=ga;f$++){ const f1=f0[f$];const f2=f1.getAttribute("ws-children-template").toLowerCase();f1.removeAttribute("ws-children-template");fW.set_Item(f2, u0036(f1));} const f3=fT.querySelectorAll("template[id]");for(let gb=0, gc=f3.length-1;gb<=gc;gb++){ const f4=f3[gb];fW.set_Item(f4.getAttribute("id").toLowerCase(), u0037(f4));} const f5=fT.querySelectorAll("template[name]");for(let gd=0, ge=f5.length-1;gd<=ge;gd++){ const f6=f5[gd];fW.set_Item(f6.getAttribute("name").toLowerCase(), u0037(f6));} const f7=new bm("New_3");function f8(gf){ if(!fV.ContainsKey(gf)){ let gg;const gh=(gg=null,[fW.TryGetValue(gf, {get:() => gg, set:(gi) => { gg=gi;}}), gg]);if(gh[0]){ f7.SAdd(gf);fW.RemoveKey(gf);u0038(fU, W(gf), gh[1], W(f8));} else console.warn(f7.Contains(gf)?"Encountered loop when instantiating "+gf:"Local template does not exist: "+gf);} } while(fW.count>0)f8(bo(fW.Keys));}
function u0032(){ return cz.LoadedTemplates;}
function u0033(fT){ let fU;const fV=(fU=null,[u0032().TryGetValue(fT, {get:() => fU, set:(fX) => { fU=fX;}}), fU]);if(fV[0])return fV[1];else { const fW=new bk("New_5");u0032().set_Item(fT, fW);return fW;} }
function u0034(fT, fU){ let fV;const fW=u0039(fT, bn(fU, $().Values));const fX=fW[1];const fY=fW[0];const fZ=fY.Els;return!p(fZ, null)&&fZ.length===1&&(j(fZ, 0)instanceof Node&&(p(j(fZ, 0).nodeType, Node.ELEMENT_NODE)&&(fV=j(fZ, 0),true)))?c3.TreeNode(fY, fX):be.Mk(b2(fY), fX);}
function u0035(fT){ fT.removeAttribute("ws-template");const fU=fT.getAttribute("ws-replace");if(fU==null){ } else { fT.removeAttribute("ws-replace");const fV=fT.parentNode;if(p(fV, null)){ } else { const fW=globalThis.document.createElement(fT.tagName);fW.setAttribute("ws-replace", fU);fV.replaceChild(fW, fT);} } const fX=globalThis.document.createElement("div");fX.appendChild(fT);return fX;}
function u0036(fT){ const fU=globalThis.document.createElement("div");while(fT.hasChildNodes())fU.appendChild(fT.firstChild);return fU;}
function u0037(fT){ const fU=globalThis.document.createElement("div");const fV=fT.content;for(let fW=0, fX=fV.childNodes.length-1;fW<=fX;fW++)fU.appendChild(fV.childNodes[fW].cloneNode(true));return fU;}
function u0038(fT, fU, fV, fW){ const fX=new bm("New_3");function fY(f5, f6){ while(true)switch(f5){ case 0:if(f6!==null){ const f7=f6.nextSibling;if(p(f6.nodeType, Node.TEXT_NODE))da(f6);else if(p(f6.nodeType, Node.ELEMENT_NODE))f0(f6);f6=f7;} else return null;break;case 1:const f8=di(f6.nodeName, W(3), null).toLowerCase();const f9=f8.indexOf(".");const f_=f9===-1?[fT, f8]:[di(f8, null, W(f9-1)), di(f8, W(f9+1), null)];const f$=f_[1];const ga=f_[0];if(ga!=""&&!u0032().ContainsKey(ga))return db(f$);else { if(ga==""&&fW!=null)fW.$0(f$);const gb=u0032().Item(ga);if(!gb.ContainsKey(f$))return db(f$);else { const gc=gb.Item(f$);const gd=gc.cloneNode(true);const ge=new bm("New_3");const gf=new bk("New_5");const gg=f6.attributes;for(let gq=0, gr=gg.length-1;gq<=gr;gq++){ const gh=gg.item(gq).name.toLowerCase();const gi=gg.item(gq).nodeValue;let gj=gi==""?gh:gi.toLowerCase();gf.set_Item(gh, gj);if(!ge.SAdd(gh))console.warn("Hole mapped twice", gh);} for(let gs=0, gt=f6.childNodes.length-1;gs<=gt;gs++){ const gk=f6.childNodes[gs];if(p(gk.nodeType, Node.ELEMENT_NODE))if(!ge.SAdd(gk.nodeName.toLowerCase()))console.warn("Hole filled twice", f$);} const gl=f6.childNodes.length===1&&p(f6.firstChild.nodeType, Node.TEXT_NODE);if(gl){ const gm=dc(gd, f6.firstChild.textContent, f$);const gn=((gu) =>(gv) => gu.SAdd(gv))(ge);let go=((gu) =>(gv) => { if(gv!=null)gu(gv.$0);})((gu) => { gn(gu);});go(gm);} dd(gd, ge);if(!gl){ for(let gu=0, gv=f6.childNodes.length-1;gu<=gv;gu++){ const gp=f6.childNodes[gu];if(p(gp.nodeType, Node.ELEMENT_NODE))if(gp.hasAttributes())de(gd, gp);else fZ(gd, gp);} } df(gd, gf);dg(gd, f6.parentNode, f6);f6.parentNode.removeChild(f6);return;} } break;} } function fZ(f5, f6){ const f7=f6.nodeName.toLowerCase();const f8=(ga, gb) => { if(f7=="title"&&f6.hasChildNodes()){ const gc=dj(f6.textContent);f6.removeChild(f6.firstChild);while(gc.hasChildNodes())f6.appendChild(gc.firstChild);} f0(f6);return dg(f6, ga, gb);};ba(f5, "[ws-attr-holes]", (ga) => { const gb=el(ga.getAttribute("ws-attr-holes"), [" "], 1);for(let gf=0, gg=gb.length-1;gf<=gg;gf++){ const gc=j(gb, gf);let gd=new RegExp("\\${"+f7+"}", "ig");let ge=ga.getAttribute(gc).replace(gd, f6.textContent);ga.setAttribute(gc, ge);} });const f9=f5.querySelector("[ws-hole="+f7+"]");if(p(f9, null)){ const f_=f5.querySelector("[ws-replace="+f7+"]");if(p(f_, null)){ const f$=f5.querySelector("slot[name="+f7+"]");return f5.tagName.toLowerCase()=="template"?(f8(f$.parentNode, f$),void f$.parentNode.removeChild(f$)):null;} else { f8(f_.parentNode, f_);f_.parentNode.removeChild(f_);return;} } else { while(f9.hasChildNodes())f9.removeChild(f9.lastChild);f9.removeAttribute("ws-hole");return f8(f9, null);} } function f0(f5){ if(!f5.hasAttribute("ws-preserve"))if(em(f5.nodeName.toLowerCase(), "ws-"))f2(f5);else { dh(f5);f1(f5.firstChild);} } function f1(f5){ return fY(0, f5);} function f2(f5){ return fY(1, f5);} function f3(f5){ while(true){ const f6=f5.querySelector("[ws-template]");if(p(f6, null)){ const f7=f5.querySelector("[ws-children-template]");if(p(f7, null)){ const f8=f5.querySelectorAll("template[id]");for(let gc=1, gd=f8.length-1;gc<=gd;gc++){ const f9=f8[gc];if(fX.Contains(f9)){ } else { u0038(fT, W(f9.getAttribute("id")), f9, null);fX.SAdd(f9);} } const f_=f5.querySelectorAll("template[name]");for(let ge=1, gf=f_.length-1;ge<=gf;ge++){ const f$=f_[ge];if(fX.Contains(f$)){ } else { u0038(fT, W(f$.getAttribute("name")), f$, null);fX.SAdd(f$);} } return null;} else { const ga=f7.getAttribute("ws-children-template");f7.removeAttribute("ws-children-template");u0038(fT, W(ga), f7, null);f5=f5;} } else { const gb=f6.getAttribute("ws-template");(bb(fT, W(gb), f6))(null);f5=f5;} } } const f4=(fU==null?"":fU.$0).toLowerCase();u0033(fT).set_Item(f4, fV);if(fV.hasChildNodes()){ f3(fV);f1(fV.firstChild);} }
function u0039(fT, fU){ let fV;const fW=[];const fX=[];const fY=[];const fZ=[];const f0=new bk("New_5");const f1=cu(fU);try { while(f1.MoveNext()){ const f2=f1.Current;f0.set_Item(f2.Name, f2);} } finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} let f3=dk(fT);const f4=(gb, gc) => { const gd=dJ(gb, gc);fX.push(dK(gd));fY.push([gb, gd]);const ge=fO(gd.OnAfterRender);if(ge==null)return null;else { const gf=ge.$0;fZ.push(() => { gf(gb);});return;} };const f5=(gb) => { let gc;const gd=(gc=null,[f0.TryGetValue(gb, {get:() => gc, set:(gg) => { gc=gg;}}), gc]);if(gd[0]){ const ge=gd[1];if(ge instanceof d0)return W(ge.Value);else if(ge instanceof d1)return W(be.TextNode(ge.Value));else { const gf=ge.ForTextView();return gf==null?null:W(be.TextView(gf.$0));} } else return null;};ba(fT, "[ws-hole]", (gb) => { const gc=gb.getAttribute("ws-hole");gb.removeAttribute("ws-hole");while(gb.hasChildNodes())gb.removeChild(gb.lastChild);const gd=f5(gc);if(gd!=null&&gd.$==1){ const ge=gd.$0;cA(gb, ge.docNode);fW.push(cW.New(dL(gb), ge.docNode, null, gb, cX(), null));fX.push(ge.updates);} });ba(fT, "[ws-replace]", (gb) => { const gc=f5(gb.getAttribute("ws-replace"));if(gc!=null&&gc.$==1){ const gd=gc.$0;const ge=gb.parentNode;const gf=globalThis.document.createTextNode("");ge.replaceChild(gf, gb);const gg=cF(gf, gd.docNode);f3=dk(fT);const gh=bD((gi) => gb===gi, f3);if(gh==null){ } else k(f3, gh.$0, gd.docNode);fW.push(cW.New(dL(ge), gd.docNode, W([gg, gf]), ge, cX(), null));fX.push(gd.updates);} });let f6=false;ba(fT, "slot", (gb) => { const gc=gb.getAttribute("name");const gd=gc==""||gc==null?"default":gc.toLowerCase();if(f6&&gd=="default"||!p(fT.parentElement, null)){ } else { while(gb.hasChildNodes())gb.removeChild(gb.lastChild);if(gd=="default")f6=true;const ge=f5(gd);if(ge!=null&&ge.$==1){ const gf=ge.$0;cA(gb, gf.docNode);fW.push(cW.New(dL(gb), gf.docNode, null, gb, cX(), null));fX.push(gf.updates);} } });ba(fT, "[ws-attr]", (gb) => { let gc;const gd=gb.getAttribute("ws-attr");gb.removeAttribute("ws-attr");const ge=(gc=null,[f0.TryGetValue(gd, {get:() => gc, set:(gg) => { gc=gg;}}), gc]);if(ge[0]){ const gf=ge[1];if(gf instanceof d2)f4(gb, gf.Value);else console.warn("Attribute hole filled with non-attribute data", gd);} });ba(fT, "[ws-on]", (gb) => { f4(gb, ee.Concat(bC((gc) => { let gd;const ge=el(gc, [":"], 1);const gf=(gd=null,[f0.TryGetValue(j(ge, 1), {get:() => gd, set:(gh) => { gd=gh;}}), gd]);if(gf[0]){ const gg=gf[1];return gg instanceof d3?W(d4(j(ge, 0), gg.Value)):gg instanceof ed?W(ee.Handler(j(ge, 0), gg.Value)):(console.warn("Event hole on"+j(ge, 0)+" filled with non-event data", j(ge, 1)),null);} else return null;}, el(gb.getAttribute("ws-on"), [" "], 1))));gb.removeAttribute("ws-on");});ba(fT, "[ws-onafterrender]", (gb) => { let gc;const gd=gb.getAttribute("ws-onafterrender");const ge=(gc=null,[f0.TryGetValue(gd, {get:() => gc, set:(gg) => { gc=gg;}}), gc]);if(ge[0]){ const gf=ge[1];if(gf instanceof ef){ gb.removeAttribute("ws-onafterrender");f4(gb, d5(gf.Value));} else if(gf instanceof eg){ gb.removeAttribute("ws-onafterrender");f4(gb, d5(gf.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gd);} });ba(fT, "[ws-var]", (gb) => { let gc;const gd=gb.getAttribute("ws-var");gb.removeAttribute("ws-var");const ge=(gc=null,[f0.TryGetValue(gd, {get:() => gc, set:(gf) => { gc=gf;}}), gc]);if(ge[0])ge[1].AddAttribute((gf) =>(gg) => f4(gf, gg), gb);});const f7=() => { bc("[ws-dom]", (gb) => { let gc;let gd;let ge;const gf=(gc=null,[f0.TryGetValue(gb.getAttribute("ws-dom").toLowerCase(), {get:() => gc, set:(gj) => { gc=gj;}}), gc]);if(gf[0]){ const gg=gf[1];if(gg instanceof bX){ const gh=gg.Value;gb.removeAttribute("ws-dom");gd=gb;const gi=new MutationObserver((gj, gk) => { bH((gl) => { gl.removedNodes.forEach(fP((gm) => gm[0]===gd&&gl.addedNodes.length!==1?(gh.SetFinal(null),gk.disconnect()):null), null);}, gj);});if(gb.parentElement!==null)gi.observe(gb.parentElement, (ge={},ge.childList=true,ge));gh.Set(W(gb));c5((gj) => { if(gj!=null&&gj.$==1){ const gk=gj.$0;if(gd===gk){ } else { gd.replaceWith(gk);gd=gk;} } else { gd.remove();gi.disconnect();} }, gh.View);} } });};ba(fT, "[ws-attr-holes]", (gb) => { const gc=new RegExp(bd(), "g");const gd=el(gb.getAttribute("ws-attr-holes"), [" "], 1);gb.removeAttribute("ws-attr-holes");for(let ge=0, gf=gd.length-1;ge<=gf;ge++)((() => { let gg;const gh=j(gd, ge);const gi=gb.getAttribute(gh);let gj=null;let gk=0;const gl=[];while(gj=gc.exec(gi),gj!==null){ const gm=di(gi, W(gk), W(gc.lastIndex-j(gj, 0).length-1));gk=gc.lastIndex;gl.push([gm, j(gj, 1)]);} const gn=di(gi, W(gk), null);gc.lastIndex=0;const go=bI((gt, gu) =>(((gv) => { const gw=gv[0];const gx=gv[1];return(gy) => { let gz;const gA=gy[0];const gB=gy[1];const gC=(gz=null,[f0.TryGetValue(gx, {get:() => gz, set:(gE) => { gz=gE;}}), gz]);const gD=gC[0]?gC[1].AsChoiceView:eh("");return gD.$==1?[gw, ej.Cons(gA==""?gD.$0:c6((gE) => gE+gA, gD.$0), gB)]:[gw+gD.$0+gA, gB];};})(gt))(gu), gl, [gn, ej.Empty]);if(go[1].$==1){ if(go[1].$1.$==1){ if(go[1].$1.$1.$==1){ if(go[1].$1.$1.$1.$==0){ const gp=go[0];gg=d6(gh, c7((gt, gu, gv) => gp+gt+gu+gv, go[1].$0, go[1].$1.$0, go[1].$1.$1.$0));} else { const gq=go[0];gg=d6(gh, c6((gt) => gq+ek("", gt), c8(go[1])));} } else { const gr=go[0];gg=d6(gh, c9((gt, gu) => gr+gt+gu, go[1].$0, go[1].$1.$0));} } else if(go[0]=="")gg=d6(gh, go[1].$0);else { const gs=go[0];gg=d6(gh, c6((gt) => gs+gt, go[1].$0));} } else gg=ee.Create(gh, go[0]);return f4(gb, gg);})());});let f8=f3;const f9=fZ.length==0?W(() => { f7();}):W((gb) => { f7();bH((gc) => { gc(gb);}, fZ);});const f_=!p(f3, null)&&f3.length===1&&(j(f3, 0)instanceof Node&&(j(f3, 0)instanceof Element&&(fV=j(f3, 0),true)))?W(fV):null;let f$={Els:f8, Dirty:true, Holes:fW, Attrs:fY, Render:f9?f9.$0:void 0, El:f_?f_.$0:void 0};let ga=fQ(f$, ["Render", "El"]);return[ga, es(c4(), c_, fX)];}
function $(){ return cz.GlobalHoles;}
function ba(fT, fU, fV){ dq(fT, fU, (fW) => { if(fW.closest("[ws-preserve]")==null)fV(fW);});}
function bb(fT, fU, fV){ const fW=u0035(fV);return(fX) => { u0038(fT, fU, fW, fX);};}
function bc(fT, fU){ dr(fT, (fV) => { if(fV.closest("[ws-preserve]")==null)fU(fV);});}
function bd(){ return cz.TextHoleRE;}
let be=fK((fT) => class fU extends h { static { be=fT(this);} docNode;updates;static RunById(fV, fW){ const fX=globalThis.document.getElementById(fV);if(p(fX, null))e("invalid id: "+fV);else be.Run(fX, fW);} static Run(fV, fW){ cA(fV, fW.docNode);be.RunInPlace(false, fV, fW);} static get Empty(){ return be.Mk(null, c4());} static RunInPlace(fV, fW, fX){ const fY=cC(fW, fX.docNode);c5(dy()||dF()?dG(cD(fV, fY, fX.docNode)):() => { cE(fV, fY, fX.docNode);}, fX.updates);} static Mk(fV, fW){ return new fU(fV, fW);} static TextNode(fV){ return be.Mk(b3(globalThis.document.createTextNode(fV)), c4());} static TextView(fV){ const fW=cN();return be.Mk(b4(fW), c6((fX) => { cO(fW, fX);}, fV));} constructor(fV, fW){ super();this.docNode=fV;this.updates=fW;} });
function bf(fT, fU){ return{k:fT, ct:fU};}
function bg(fT){ return{$:1, $0:fT};}
function bh(fT){ return{$:0, $0:fT};}
function bi(fT){ return{$:2, $0:fT};}
function bj(fT, fU){ return{c:fT, r:fU};}
let bk=fK((fT) => class fU extends h { static { bk=fT(this);} equals;hash;count;data;set_Item(fV, fW){ this.set(fV, fW);} set(fV, fW){ const fX=this.hash(fV);const fY=this.data[fX];if(fY==null){ this.count=this.count+1;this.data[fX]=new Array({K:fV, V:fW});} else { const fZ=bD((f0) => this.equals.apply(null, [(f(f0))[0], fV]), fY);if(fZ==null){ this.count=this.count+1;fY.push({K:fV, V:fW});} else fY[fZ.$0]={K:fV, V:fW};} } TryGetValue(fV, fW){ const fX=this.data[this.hash(fV)];if(fX==null)return false;else { const fY=bE((fZ) => { const f0=f(fZ);return this.equals.apply(null, [f0[0], fV])?W(f0[1]):null;}, fX);return fY!=null&&fY.$==1&&(fW.set(fY.$0),true);} } ContainsKey(fV){ const fW=this.data[this.hash(fV)];return fW==null?false:bF((fX) => this.equals.apply(null, [(f(fX))[0], fV]), fW);} RemoveKey(fV){ return this.remove(fV);} get Keys(){ return new dx(this);} GetEnumerator(){ return cx(bG(P(this.data)));} get Values(){ return new ew(this);} remove(fV){ const fW=this.hash(fV);const fX=this.data[fW];if(fX==null)return false;else { const fY=bK((fZ) =>!this.equals.apply(null, [(f(fZ))[0], fV]), fX);return m(fY)<fX.length&&(this.count=this.count-1,this.data[fW]=fY,true);} } Item(fV){ return this.get(fV);} get(fV){ const fW=this.data[this.hash(fV)];return fW==null?ct():bM((fX) => { const fY=f(fX);return this.equals.apply(null, [fY[0], fV])?W(fY[1]):null;}, fW);} static New_5(){ return new this("New_5");} static New_6(fV, fW, fX){ return new this("New_6", fV, fW, fX);} constructor(fV, fW, fX, fY){ if(fV=="New_5"){ fV="New_6";fW=[];fX=p;fY=s;} if(fV=="New_6"){ const fZ=fW;const f0=fX;const f1=fY;super();this.equals=f0;this.hash=f1;this.count=0;this.data=[];const f2=cu(fZ);try { while(f2.MoveNext()){ const f3=f2.Current;this.set(f3.K, f3.V);} } finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} } } });
let bl=fK((fT) => class fU extends h { static { bl=fT(this);} static Create_1(fV){ return new b7(false, {s:c0(fV, [])}, fV);} static { } });
let bm=fK((fT) => class fU extends h { static { bm=fT(this);} equals;hash;data;count;SAdd(fV){ return this.add(fV);} Contains(fV){ const fW=this.data[this.hash(fV)];return fW==null?false:this.arrContains(fV, fW);} add(fV){ const fW=this.hash(fV);const fX=this.data[fW];return fX==null?(this.data[fW]=[fV],this.count=this.count+1,true):this.arrContains(fV, fX)?false:(fX.push(fV),this.count=this.count+1,true);} arrContains(fV, fW){ let fX=true;let fY=0;const fZ=fW.length;while(fX&&fY<fZ)if(this.equals.apply(null, [fW[fY], fV]))fX=false;else fY=fY+1;return!fX;} GetEnumerator(){ return cu(eO(this.data));} ExceptWith(fV){ const fW=cu(fV);try { while(fW.MoveNext())this.Remove(fW.Current);} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} } get Count(){ return this.count;} IntersectWith(fV){ const fW=new bm("New_4", fV, this.equals, this.hash);const fX=eO(this.data);for(let fZ=0, f0=fX.length-1;fZ<=f0;fZ++){ const fY=fX[fZ];if(!fW.Contains(fY))this.Remove(fY);} } Remove(fV){ const fW=this.data[this.hash(fV)];return fW==null?false:this.arrRemove(fV, fW)&&(this.count=this.count-1,true);} CopyTo(fV, fW){ const fX=eO(this.data);for(let fY=0, fZ=fX.length-1;fY<=fZ;fY++)k(fV, fY+fW, fX[fY]);} arrRemove(fV, fW){ let fX=true;let fY=0;const fZ=fW.length;while(fX&&fY<fZ)if(this.equals.apply(null, [fW[fY], fV])){ fW.splice(fY, 1);fX=false;} else fY=fY+1;return!fX;} static New_3(){ return new this("New_3");} static New_4(fV, fW, fX){ return new this("New_4", fV, fW, fX);} static New_2(fV){ return new this("New_2", fV);} constructor(fV, fW, fX, fY){ if(fV=="New_3"){ fV="New_4";fW=[];fX=p;fY=s;} let fZ;if(fV=="New_2"){ fZ=fW;fV="New_4";fW=fZ;fX=p;fY=s;} if(fV=="New_4"){ const f0=fW;const f1=fX;const f2=fY;super();this.equals=f1;this.hash=f2;this.data=[];this.count=0;const f3=cu(f0);try { while(f3.MoveNext())this.add(f3.Current);} finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} } } });
function bn(fT, fU){ return{GetEnumerator:() => { const fV=cu(fT);const fW=[true];return new cy(fV, null, (fX) => { if(fX.s.MoveNext()){ fX.c=fX.s.Current;return true;} else { const fY=fX.s;if(!p(fY, null))fY.Dispose();fX.s=null;return fW[0]&&(fW[0]=false,fX.s=cu(fU),fX.s.MoveNext()?(fX.c=fX.s.Current,true):(fX.s.Dispose(),fX.s=null,false));} }, (fX) => { const fY=fX.s;if(!p(fY, null))fY.Dispose();});}};}
function bo(fT){ const fU=cu(fT);try { return fU.MoveNext()?fU.Current:du();} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} }
function bp(fT, fU, fV){ let fW=fU;const fX=cu(fV);try { while(fX.MoveNext())fW=fT(fW, fX.Current);return fW;} finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} }
function bq(fT, fU){ const fV=cu(fU);try { while(fV.MoveNext())fT(fV.Current);} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} }
function br(fT, fU){ return{GetEnumerator:() => { const fV=cu(fU);return new cy(null, null, (fW) => fV.MoveNext()&&(fW.c=fT(fV.Current),true), () => { fV.Dispose();});}};}
function bs(fT){ return{GetEnumerator:() => cu(fT())};}
function bt(fT, fU){ return bv(br(fT, fU));}
function bu(fT){ const fU=cu(fT);try { if(!fU.MoveNext())bx();let fV=fU.Current;while(fU.MoveNext()){ const fW=fU.Current;if(x(fW, fV)===1)fV=fW;} return fV;} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} }
function bv(fT){ return{GetEnumerator:() => { const fU=cu(fT);function fV(fW){ while(true){ const fX=fW.s;if(p(fX, null)){ if(fU.MoveNext()){ fW.s=cu(fU.Current);fW=fW;} else { fU.Dispose();return false;} } else if(fX.MoveNext()){ fW.c=fX.Current;return true;} else { fW.Dispose();fW.s=null;fW=fW;} } } return new cy(null, null, fV, (fW) => { const fX=fW.s;if(!p(fX, null))fX.Dispose();if(!p(fU, null))fU.Dispose();});}};}
function bw(fT, fU){ return by(fT, bz(fU));}
function bx(){ return e("The input sequence was empty.");}
function by(fT, fU){ fT<0?dw():void 0;return{GetEnumerator:() => { const fV=[cu(fU)];return new cy(0, null, (fW) => { fW.s=fW.s+1;if(fW.s>fT)return false;else { const fX=fV[0];return p(fX, null)?du():fX.MoveNext()?(fW.c=fX.Current,fW.s===fT?(fX.Dispose(),fV[0]=null):void 0,true):(fX.Dispose(),fV[0]=null,du());} }, () => { const fW=fV[0];if(!p(fW, null))fW.Dispose();});}};}
function bz(fT){ return{GetEnumerator:() => new cy(0, null, (fU) => { fU.c=fT(fU.s);fU.s=fU.s+1;return true;}, void 0)};}
function bA(fT, fU){ return!bB((fV) =>!fT(fV), fU);}
function bB(fT, fU){ const fV=cu(fU);try { let fW=false;while(!fW&&fV.MoveNext())fW=fT(fV.Current);return fW;} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} }
function bC(fT, fU){ const fV=[];for(let fX=0, fY=fU.length-1;fX<=fY;fX++){ const fW=fT(fU[fX]);if(fW==null){ } else fV.push(fW.$0);} return fV;}
function bD(fT, fU){ let fV=null;let fW=0;while(fW<fU.length&&fV==null){ fT(fU[fW])?fV=W(fW):void 0;fW=fW+1;} return fV;}
function bE(fT, fU){ let fV=null;let fW=0;while(fW<fU.length&&fV==null){ const fX=fT(fU[fW]);if(fX!=null&&fX.$==1)fV=fX;fW=fW+1;} return fV;}
function bF(fT, fU){ let fV=false;let fW=0;while(!fV&&fW<m(fU))if(fT(fU[fW]))fV=true;else fW=fW+1;return fV;}
function bG(fT){ return Array.prototype.concat.apply([], bL(fT));}
function bH(fT, fU){ for(let fV=0, fW=fU.length-1;fV<=fW;fV++)fT(fU[fV]);}
function bI(fT, fU, fV){ let fW=fV;const fX=fU.length;for(let fY=1, fZ=fX;fY<=fZ;fY++)fW=fT(fU[fX-fY], fW);return fW;}
function bJ(fT, fU){ const fV=new Array(fU.length);for(let fW=0, fX=fU.length-1;fW<=fX;fW++)fV[fW]=fT(fU[fW]);return fV;}
function bK(fT, fU){ const fV=[];for(let fW=0, fX=fU.length-1;fW<=fX;fW++)if(fT(fU[fW]))fV.push(fU[fW]);return fV;}
function bL(fT){ if(fT instanceof Array)return fT.slice();else if(fT instanceof ej)return bN(fT);else { const fU=[];const fV=cu(fT);try { while(fV.MoveNext())fU.push(fV.Current);return fU;} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} } }
function bM(fT, fU){ const fV=bE(fT, fU);return fV==null?e("KeyNotFoundException"):fV.$0;}
function bN(fT){ const fU=[];let fV=fT;while(!(fV.$==0)){ fU.push(e4(fV));fV=e5(fV);} return fU;}
function bO(fT, fU){ let fV=true;let fW=0;while(fV&&fW<m(fU))if(fT(fU[fW]))fW=fW+1;else fV=false;return fV;}
function bP(fT, fU){ const fV=new Array(fT);for(let fW=0, fX=fT-1;fW<=fX;fW++)fV[fW]=fU;return fV;}
function bQ(fT, fU){ if(fT<0)e("Negative size given.");else null;const fV=new Array(fT);for(let fW=0, fX=fT-1;fW<=fX;fW++)fV[fW]=fU(fW);return fV;}
let bR=fK((fT) => class fU extends h { static { bR=fT(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fV, fW, fX){ let fY;const fZ=bR.GetHolesFor(fV);const f0=(fY=null,[fZ.TryGetValue(fW, {get:() => fY, set:(f2) => { fY=f2;}}), fY]);if(f0[0])return f0[1];else { const f1=fX();fZ.set_Item(fW, f1);return f1;} } static GetHolesFor(fV){ let fW;const fX=(fW=null,[bR.initialized.TryGetValue(fV, {get:() => fW, set:(fZ) => { fW=fZ;}}), fW]);if(fX[0])return fX[1];else { const fY=new bk("New_5");bR.initialized.set_Item(fV, fY);return fY;} } static { bR.initialized=new bk("New_5");bR.instances=new bk("New_5");} });
let bS=fK((fT) => { fN(R);return class fU extends R { static { bS=fT(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return W(this.fillWith.View);} AddAttribute(fV, fW){(fV(fW))(d7(this.fillWith));} get AsChoiceView(){ return ei(c6(String, this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} };});
let bT=fK((fT) => { fN(R);return class fU extends R { static { bT=fT(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return W(c6(String, this.fillWith.View));} AddAttribute(fV, fW){(fV(fW))(d8(this.fillWith));} get AsChoiceView(){ return ei(c6(String, this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} };});
let bU=fK((fT) => { fN(R);return class fU extends R { static { bU=fT(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return W(c6(String, this.fillWith.View));} AddAttribute(fV, fW){(fV(fW))(d9(this.fillWith));} get AsChoiceView(){ return ei(c6(String, this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} };});
let bV=fK((fT) => { fN(R);return class fU extends R { static { bV=fT(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return W(c6((fV) =>(new Date(fV)).toLocaleString(), this.fillWith.View));} AddAttribute(fV, fW){(fV(fW))(d_(this.fillWith));} get AsChoiceView(){ return ei(c6((fV) =>(new Date(fV)).toLocaleString(), this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} };});
let bW=fK((fT) => { fN(R);return class fU extends R { static { bW=fT(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return W(c6(String, this.fillWith.View));} AddAttribute(fV, fW){(fV(fW))(d$(this.fillWith));} get AsChoiceView(){ return ei(c6(String, this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} };});
let bX=fK((fT) => { fN(R);return class fU extends R { static { bX=fT(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} };});
let bY=fK((fT) => { fN(R);return class fU extends R { static { bY=fT(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return W(c6((fV) => ek(",", fV), this.fillWith.View));} AddAttribute(fV, fW){(fV(fW))(ea(this.fillWith));} get AsChoiceView(){ return ei(c6(String, this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} };});
let bZ=fK((fT) => class fU extends h { static { bZ=fT(this);} idle;robin;Fork(fV){ this.robin.push(fV);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fV=Date.now();let fW=true;while(fW)if(this.robin.length===0){ this.idle=true;fW=false;} else {(this.robin.shift())();Date.now()-fV>40?(setTimeout(() => { this.tick();}, 0),fW=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} });
let b0=fK((fT) => { fN(Error);return class fU extends Error { static { b0=fT(this);} reason;constructor(fV){ super("Promise rejected");this.reason=fV;} };});
let b1=fK((fT) => class fU { static { b1=fT(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bj(false, []);this.scheduler=new bZ();this.defCTS=[new cV()];this.Zero=E();this.GetCT=(fV) => { fV.k(bh(fV.ct));};} });
function b2(fT){ return{$:6, $0:fT};}
function b3(fT){ return{$:5, $0:fT};}
function b4(fT){ return{$:4, $0:fT};}
let b5=fK((fT) => class fU { static { b5=fT(this);} });
function b6(fT, fU){ return fC(fT, -2147483648, 2147483647, fU);}
let b7=fK((fT) => { fN(o);return class fU extends o { static { b7=fT(this);} isConst;current;snap;view;id;get View(){ return this.view;} Set(fV){ if(this.isConst)(((fW) => fW("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fW) => { console.log(fW);}));else { dI(this.snap);this.current=fV;this.snap={s:c0(fV, [])};} } SetFinal(fV){ if(this.isConst)(((fW) => fW("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fW) => { console.log(fW);}));else { dI(this.snap);this.isConst=true;this.current=fV;this.snap={s:c1(fV)};} } Get(){ return this.current;} UpdateMaybe(fV){ const fW=fV(this.Get());if(fW!=null&&fW.$==1)this.Set(fW.$0);} constructor(fV, fW, fX){ super();this.isConst=fV;this.current=fX;this.snap=fW;this.view=() => this.snap;this.id=cX();} };});
function b8(fT, fU, fV){ const fW=fT.s;if(fW==null)fV();else fW!=null&&fW.$==2?(fW.$1.push(fV),fU(fW.$0)):fW!=null&&fW.$==3?(fW.$0.push(fU),fW.$1.push(fV)):fU(fW.$0);}
function b9(fT, fU){ const fV=fU.s;if(fV!=null&&fV.$==0)return{s:c1(fT(fV.$0))};else { const fW={s:c2([], [])};ce(fU, (fX) => { cf(fW, fU, fT(fX));}, fW);return fW;} }
function b_(fT, fU, fV, fW){ const fX=fU.s;const fY=fV.s;const fZ=fW.s;if(fX!=null&&fX.$==0)return fY!=null&&fY.$==0?fZ!=null&&fZ.$==0?{s:c1(fT(fX.$0, fY.$0, fZ.$0))}:cg(fT, fX.$0, fY.$0, fW):fZ!=null&&fZ.$==0?ch(fT, fX.$0, fZ.$0, fV):ci(fT, fX.$0, fV, fW);else if(fY!=null&&fY.$==0)return fZ!=null&&fZ.$==0?cj(fT, fY.$0, fZ.$0, fU):ck(fT, fY.$0, fU, fW);else if(fZ!=null&&fZ.$==0)return cl(fT, fZ.$0, fU, fV);else { const f0={s:c2([], [])};const f1=() => { const f2=f0.s;if(!(f2!=null&&f2.$==0||f2!=null&&f2.$==2)){ const f3=cm(fU);const f4=cm(fV);const f5=cm(fW);if(f3!=null&&f3.$==1)if(f4!=null&&f4.$==1)if(f5!=null&&f5.$==1)if(f3.$0[1]&&f4.$0[1]&&f5.$0[1])cn(f0, fT(f3.$0[0], f4.$0[0], f5.$0[0]));else co(f0, fT(f3.$0[0], f4.$0[0], f5.$0[0]));} };ce(fU, f1, f0);ce(fV, f1, f0);ce(fW, f1, f0);return f0;} }
function b$(fT){ const fU=bL(fT);if(fU.length==0)return{s:c1([])};else { const fV={s:c2([], [])};const fW=[m(fU)-1];const fX=() => { if(fW[0]===0){ const fY=bJ((fZ) => { const f0=fZ.s;return f0!=null&&f0.$==0?f0.$0:f0!=null&&f0.$==2?f0.$0:e("value not found by View.Sequence");}, fU);if(bO((fZ) => { const f0=fZ.s;return f0!=null&&f0.$==0;}, fU))cn(fV, fY);else co(fV, fY);} else fW[0]=fW[0]-1;};bH((fY) => { ce(fY, fX, fV);}, fU);return fV;} }
function ca(fT, fU, fV){ const fW=fU.s;const fX=fV.s;if(fW!=null&&fW.$==0)return fX!=null&&fX.$==0?{s:c1(fT(fW.$0, fX.$0))}:cp(fT, fW.$0, fV);else if(fX!=null&&fX.$==0)return cq(fT, fX.$0, fU);else { const fY={s:c2([], [])};const fZ=() => { const f0=fY.s;if(!(f0!=null&&f0.$==0||f0!=null&&f0.$==2)){ const f1=cm(fU);const f2=cm(fV);if(f1!=null&&f1.$==1)if(f2!=null&&f2.$==1)if(f1.$0[1]&&f2.$0[1])cn(fY, fT(f1.$0[0], f2.$0[0]));else co(fY, fT(f1.$0[0], f2.$0[0]));} };ce(fU, fZ, fY);ce(fV, fZ, fY);return fY;} }
function cb(fT, fU){ const fV=fT.s;const fW=fU.s;if(fV!=null&&fV.$==0)return fW!=null&&fW.$==0?{s:c1(null)}:fU;else if(fW!=null&&fW.$==0)return fT;else { const fX={s:c2([], [])};const fY=() => { const fZ=fX.s;if(!(fZ!=null&&fZ.$==0||fZ!=null&&fZ.$==2)){ const f0=cm(fT);const f1=cm(fU);if(f0!=null&&f0.$==1)if(f1!=null&&f1.$==1)if(f0.$0[1]&&f1.$0[1])cn(fX, null);else co(fX, null);} };ce(fT, fY, fX);ce(fU, fY, fX);return fX;} }
function cc(fT){ const fU=fT.s;if(fU==null)return fT;else if(fU!=null&&fU.$==2){ const fV={s:c0(fU.$0, [])};cr(fT, fV);return fV;} else if(fU!=null&&fU.$==3){ const fW={s:c2([], [])};ce(fT, (fX) => { cf(fW, fT, fX);}, fW);return fW;} else return fT;}
function cd(fT, fU){ const fV=fT.s;if(fV==null)fU();else fV!=null&&fV.$==2?fV.$1.push(fU):fV!=null&&fV.$==3?fV.$1.push(fU):void 0;}
function ce(fT, fU, fV){ const fW=fT.s;if(fW==null)dI(fV);else fW!=null&&fW.$==2?(cs(fW.$1, fV),fU(fW.$0)):fW!=null&&fW.$==3?(fW.$0.push(fU),cs(fW.$1, fV)):fU(fW.$0);}
function cf(fT, fU, fV){ const fW=fU.s;if(fW!=null&&fW.$==0)cn(fT, fV);else co(fT, fV);}
function cg(fT, fU, fV, fW){ return b9((fX) => fT(fU, fV, fX), fW);}
function ch(fT, fU, fV, fW){ return b9((fX) => fT(fU, fX, fV), fW);}
function ci(fT, fU, fV, fW){ return ca((fX, fY) => fT(fU, fX, fY), fV, fW);}
function cj(fT, fU, fV, fW){ return b9((fX) => fT(fX, fU, fV), fW);}
function ck(fT, fU, fV, fW){ return ca((fX, fY) => fT(fX, fU, fY), fV, fW);}
function cl(fT, fU, fV, fW){ return ca((fX, fY) => fT(fX, fY, fU), fV, fW);}
function cm(fT){ const fU=fT.s;return fU!=null&&fU.$==0?W([fU.$0, true]):fU!=null&&fU.$==2?W([fU.$0, false]):null;}
function cn(fT, fU){ const fV=fT.s;if(fV!=null&&fV.$==3){ fT.s=c1(fU);const fW=fV.$0;for(let fX=0, fY=m(fW)-1;fX<=fY;fX++)(j(fW, fX))(fU);} else void 0;}
function co(fT, fU){ const fV=fT.s;if(fV!=null&&fV.$==3){ fT.s=c0(fU, fV.$1);const fW=fV.$0;for(let fX=0, fY=m(fW)-1;fX<=fY;fX++)(j(fW, fX))(fU);} else void 0;}
function cp(fT, fU, fV){ return b9((fW) => fT(fU, fW), fV);}
function cq(fT, fU, fV){ return b9((fW) => fT(fW, fU), fV);}
function cr(fT, fU){ const fV=fT.s;if(fV==null)dI(fU);else fV!=null&&fV.$==2?cs(fV.$1, fU):fV!=null&&fV.$==3?cs(fV.$1, fU):void 0;}
function cs(fT, fU){ fT.push(fU);if(fT.length%20===0){ const fV=fT.slice(0);fH(fT);for(let fX=0, fY=m(fV)-1;fX<=fY;fX++){ const fW=j(fV, fX);if(typeof fW=="object")(((fZ) => { if(fZ.s)fT.push(fZ);})(fW));else(((fZ) => { fT.push(fZ);})(fW));} } else void 0;}
function ct(){ throw new eX("New");}
function cu(fT){ return fT instanceof Array?cv(fT):p(typeof fT, "string")?cw(fT):fT.GetEnumerator();}
function cv(fT){ return new cy(0, null, (fU) => { const fV=fU.s;return fV<m(fT)&&(fU.c=j(fT, fV),fU.s=fV+1,true);}, void 0);}
function cw(fT){ return new cy(0, null, (fU) => { const fV=fU.s;return fV<fT.length&&(fU.c=fT[fV],fU.s=fV+1,true);}, void 0);}
function cx(fT){ return fT instanceof Array?cv(fT):p(typeof fT, "string")?cw(fT):"GetEnumerator0"in fT?fT.GetEnumerator0():fT.GetEnumerator();}
let cy=fK((fT) => class fU extends h { static { cy=fT(this);} s;c;n;d;e;MoveNext(){ const fV=this.n(this);this.e=fV?1:2;return fV;} get Current(){ return this.e===1?this.c:this.e===0?e("Enumeration has not started. Call MoveNext."):e("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fV, fW, fX, fY){ super();this.s=fV;this.c=fW;this.n=fX;this.d=fY;this.e=0;} });
let cz=fK((fT) => class fU { static { cz=fT(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bk("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bk("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cA(fT, fU){ cB(fT, fU, null);}
function cB(fT, fU, fV){ while(true){ if(fU!=null&&fU.$==1)return cG(fT, fU.$0.El, fV);else if(fU!=null&&fU.$==2){ const fW=fU.$0;fW.Dirty=false;fU=fW.Current;} else if(fU==null)return fV;else if(fU!=null&&fU.$==4)return cG(fT, fU.$0.Text, fV);else if(fU!=null&&fU.$==5)return cG(fT, fU.$0, fV);else if(fU!=null&&fU.$==6)return bI((fZ, f0) =>((((f1) =>(f2) =>(f3) => f2==null||f2.constructor===Object?cB(f1, f2, f3):cG(f1, f2, f3))(fT))(fZ))(f0), fU.$0.Els, fV);else { const fX=fU.$1;const fY=fU.$0;fU=fY;fV=cB(fT, fX, fV);} } }
function cC(fT, fU){ return ex(ey(), cH(fT, dP(), fU));}
function cD(fT, fU, fV){ if(dy()){ const fW=null;return C(() => { const fX=ez(fV);const fY=cL(fU, fX);const fZ=cK(fU, fX);return D(dz(dA(fY, cJ(fU, fX))), () => D(cI(fT, fU), () => D(dz(fZ), () => { fU.PreviousNodes=fX;return E(null);})));});} else return cI(fT, fU);}
function cE(fT, fU, fV){ const fW=ez(fV);cM(fT, fU.Top);fU.PreviousNodes=fW;}
function cF(fT, fU){ const fV=fT.parentNode;const fW=globalThis.document.createTextNode("");fV.insertBefore(fW, fT);cP(fT, fU);return fW;}
function cG(fT, fU, fV){ ds(fT, fV, fU);return fU;}
function cH(fT, fU, fV){ cA(fT, fV);const fW=dJ(fT, fU);return cW.New(fW, fV, null, fT, cX(), fO(fW.OnAfterRender));}
function cI(fT, fU){ if(dF()){ const fV=(fW) => { requestAnimationFrame(() => { cM(fT, fU.Top);fW();});};return L((fW, fX, fY) => fV.apply(null, [fW, fX, fY]));} else { cM(fT, fU.Top);return E(null);} }
function cJ(fT, fU){ return dD(bJ((fV) => dR(fV.Attr), eD(eC(fU, eB((fV) => dQ(fV.Attr), fT.PreviousNodes)))));}
function cK(fT, fU){ return dD(bJ((fV) => dT(fV.Attr), eD(eC(fT.PreviousNodes, eB((fV) => dS(fV.Attr), fU)))));}
function cL(fT, fU){ const fV=(fX) => dU(fX.Attr);const fW=(fX) => eB(fV, fX);return dD(bJ((fX) => dV(fX.Attr), eD(eE(fW(fT.PreviousNodes), fW(fU)))));}
function cM(fT, fU){!fT?cQ(fU):void 0;cR(fU.Children);cS(fU);}
function cN(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cO(fT, fU){ fT.Value=fU;fT.Dirty=true;}
function cP(fT, fU){ cB(fT.parentNode, fU, fT);}
function cQ(fT){ function fU(fV){ function fW(fX){ while(true){ if(fX!=null&&fX.$==0){ const fY=fX.$1;const fZ=fX.$0;if(fW(fZ))return true;else fX=fY;} else if(fX!=null&&fX.$==2){ const f0=fX.$0;if(f0.Dirty)return true;else fX=f0.Current;} else if(fX!=null&&fX.$==6){ const f1=fX.$0;return f1.Dirty||bF(fU, f1.Holes);} else return false;} } return fW(fV.Children);} dY(fT.El, fT.Attr);if(fU(fT))cT(fT);}
function cR(fT){ while(true){ if(fT!=null&&fT.$==1)return cM(false, fT.$0);else if(fT!=null&&fT.$==2){ const fU=fT.$0;fT=fU.Current;} else if(fT==null)return null;else if(fT!=null&&fT.$==5)return null;else if(fT!=null&&fT.$==4){ const fV=fT.$0;return fV.Dirty?(fV.Text.nodeValue=fV.Value,fV.Dirty=false):null;} else if(fT!=null&&fT.$==6){ const fW=fT.$0;bH((fZ) => { cM(false, fZ);}, fW.Holes);bH((fZ) => { dY(fZ[0], fZ[1]);}, fW.Attrs);return cS(fW);} else { const fX=fT.$1;const fY=fT.$0;cR(fY);fT=fX;} } }
function cS(fT){ const fU=fO(fT.Render);if(fU!=null&&fU.$==1){ fU.$0(fT.El);fM(fT, "Render", null);} }
function cT(fT){ const fU=fT.El;function fV(fZ, f0){ while(true){ if(fZ!=null&&fZ.$==1)return fZ.$0.El;else if(fZ!=null&&fZ.$==2){ const f1=fZ.$0;if(f1.Dirty){ f1.Dirty=false;return cB(fU, f1.Current, f0);} else fZ=f1.Current;} else if(fZ==null)return f0;else if(fZ!=null&&fZ.$==4)return fZ.$0.Text;else if(fZ!=null&&fZ.$==5)return fZ.$0;else if(fZ!=null&&fZ.$==6){ const f2=fZ.$0;if(f2.Dirty)f2.Dirty=false;return bI((f5, f6) => f5==null||f5.constructor===Object?fV(f5, f6):f5, f2.Els, f0);} else { const f3=fZ.$1;const f4=fZ.$0;fZ=f4;f0=fV(f3, f0);} } } const fW=fT.El;fx((fZ) => { dt(fW, fZ);}, fw(fy(fT), fv(fT.El, fO(fT.Delimiters))));let fX=fT.Children;const fY=fO(fT.Delimiters);fV(fX, fY!=null&&fY.$==1?fY.$0[1]:null);}
let cU=fK((fT) => { fN(Error);return class fU extends Error { static { cU=fT(this);} ct;static New(fV){ return new this("New", fV);} static New_1(fV, fW, fX){ return new this("New_1", fV, fW, fX);} constructor(fV, fW, fX, fY){ let fZ;if(fV=="New"){ fZ=fW;fV="New_1";fW="The operation was canceled.";fX=null;fY=fZ;} if(fV=="New_1"){ const f0=fW;const f1=fX;const f2=fY;super(f0);this.inner=f1;this.ct=f2;} } };});
let cV=fK((fT) => class fU extends h { static { cV=fT(this);} init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} });
let cW=fK((fT) => class fU { static { cW=fT(this);} Attr;Children;Delimiters;El;ElKey;Render;Equals(fV){ return this.ElKey===fV.ElKey;} GetHashCode(){ return this.ElKey;} static New(fV, fW, fX, fY, fZ, f0){ const f1={Attr:fV, Children:fW, El:fY, ElKey:fZ};let f2=(fM(f1, "Delimiters", fX),fM(f1, "Render", f0),f1);return fR(cW, f2);} });
function cX(){ cY(cZ()+1);return cZ();}
function cY(fT){ eP.counter=fT;}
function cZ(){ return eP.counter;}
function c0(fT, fU){ return{$:2, $0:fT, $1:fU};}
function c1(fT){ return{$:0, $0:fT};}
function c2(fT, fU){ return{$:3, $0:fT, $1:fU};}
let c3=fK((fT) => { fN(be);return class fU extends be { static { c3=fT(this);} docNode_1;updates_1;elt;rvUpdates;static TreeNode(fV, fW){ const fX=ev.Create(fW);const fY=bJ((f1) => dK(f1[1]), fV.Attrs);let fZ=es(c4(), c_, fY);let f0=c_(fZ, fX.v);return new fU(b2(fV), f0, j(fV.Els, 0), fX);} constructor(fV, fW, fX, fY){ super(fV, fW);this.docNode_1=fV;this.updates_1=fW;this.elt=fX;this.rvUpdates=fY;} };});
function c4(fT){ const fU={s:c1(fT)};return() => fU;}
function c5(fT, fU){ function fV(){ b8(fU(), fT, () => { K().Fork(fV);});} K().Fork(fV);}
function c6(fT, fU){ return c$(() => b9(fT, fU()));}
function c7(fT, fU, fV, fW){ return c$(() => b_(fT, fU(), fV(), fW()));}
function c8(fT){ return c$(() => b$(br((fU) => fU(), fT)));}
function c9(fT, fU, fV){ return c$(() => ca(fT, fU(), fV()));}
function c_(fT, fU){ return c$(() => cb(fT(), fU()));}
function c$(fT){ const fU={c:null, o:fT};return() => { let fV=fU.c;if(fV===null){ fV=fU.o();fU.c=fV;const fW=fV.s;if(fW!=null&&fW.$==0)fU.o=null;else cd(fV, () => { fU.c=null;});return fV;} else return fV;};}
function da(fT){ let fU=null;let fV=0;const fW=fT.textContent;const fX=new RegExp(bd(), "g");while(fU=fX.exec(fW),fU!==null){ fT.parentNode.insertBefore(globalThis.document.createTextNode(di(fW, W(fV), W(fX.lastIndex-j(fU, 0).length-1))), fT);fV=fX.lastIndex;const fY=globalThis.document.createElement("span");fY.setAttribute("ws-replace", j(fU, 1).toLowerCase());fT.parentNode.insertBefore(fY, fT);} fX.lastIndex=0;fT.textContent=di(fW, W(fV), null);}
function db(fT){ console.warn("Instantiating non-loaded template", fT);}
function dc(fT, fU, fV){ const fW=fT.querySelector("[ws-replace]");return p(fW, null)?(console.warn("Filling non-existent text hole", fV),null):(fW.parentNode.replaceChild(globalThis.document.createTextNode(fU), fW),W(fW.getAttribute("ws-replace")));}
function dd(fT, fU){ const fV=(fW) => { ba(fT, "["+fW+"]", (fX) => { if(!fU.Contains(fX.getAttribute(fW)))fX.removeAttribute(fW);});};fV("ws-attr");fV("ws-onafterrender");fV("ws-var");ba(fT, "[ws-hole]", (fW) => { if(!fU.Contains(fW.getAttribute("ws-hole"))){ fW.removeAttribute("ws-hole");while(fW.hasChildNodes())fW.removeChild(fW.lastChild);} });ba(fT, "[ws-replace]", (fW) => { if(!fU.Contains(fW.getAttribute("ws-replace")))fW.parentNode.removeChild(fW);});ba(fT, "[ws-on]", (fW) => { fW.setAttribute("ws-on", ek(" ", bK((fX) => fU.Contains(j(el(fX, [":"], 1), 1)), el(fW.getAttribute("ws-on"), [" "], 1))));});ba(fT, "[ws-attr-holes]", (fW) => { const fX=el(fW.getAttribute("ws-attr-holes"), [" "], 1);for(let f1=0, f2=fX.length-1;f1<=f2;f1++){ const fY=j(fX, f1);let fZ=new RegExp(bd(), "g");let f0=fW.getAttribute(fY).replace(fZ, (f3, f4) => fU.Contains(f4)?f3:"");fW.setAttribute(fY, f0);} });}
function de(fT, fU){ dh(fU);const fV=fU.nodeName.toLowerCase();const fW=fT.querySelector("[ws-attr="+fV+"]");if(p(fW, null))console.warn("Filling non-existent attr hole", fV);else { fW.removeAttribute("ws-attr");for(let fY=0, fZ=fU.attributes.length-1;fY<=fZ;fY++){ const fX=fU.attributes.item(fY);if(fX.name=="class"&&fW.hasAttribute("class"))fW.setAttribute("class", fW.getAttribute("class")+" "+fX.nodeValue);else fW.setAttribute(fX.name, fX.nodeValue);} } }
function df(fT, fU){ const fV=(fW) => { ba(fT, "["+fW+"]", (fX) => { let fY;const fZ=(fY=null,[fU.TryGetValue(fX.getAttribute(fW).toLowerCase(), {get:() => fY, set:(f0) => { fY=f0;}}), fY]);if(fZ[0])fX.setAttribute(fW, fZ[1]);});};fV("ws-hole");fV("ws-replace");fV("ws-attr");fV("ws-onafterrender");fV("ws-var");ba(fT, "[ws-on]", (fW) => { fW.setAttribute("ws-on", ek(" ", bJ((fX) => { let fY;const fZ=el(fX, [":"], 1);const f0=(fY=null,[fU.TryGetValue(j(fZ, 1), {get:() => fY, set:(f1) => { fY=f1;}}), fY]);return f0[0]?j(fZ, 0)+":"+f0[1]:fX;}, el(fW.getAttribute("ws-on"), [" "], 1))));});ba(fT, "[ws-attr-holes]", (fW) => { const fX=el(fW.getAttribute("ws-attr-holes"), [" "], 1);for(let fY=0, fZ=fX.length-1;fY<=fZ;fY++)((() => { const f0=j(fX, fY);return fW.setAttribute(f0, bp((f1, f2) => { const f3=f(f2);return f1.replace(new RegExp("\\${"+f3[0]+"}", "ig"), "${"+f3[1]+"}");}, fW.getAttribute(f0), fU));})());});}
function dg(fT, fU, fV){ while(true){ if(fT.hasChildNodes())fV=fU.insertBefore(fT.lastChild, fV);else return null;} }
function dh(fT){ const fU=fT.attributes;const fV=[];const fW=[];const fX=[];for(let f2=0, f3=fU.length-1;f2<=f3;f2++){ const fY=fU.item(f2);if(em(fY.nodeName, "ws-on")&&fY.nodeName!="ws-onafterrender"&&fY.nodeName!="ws-on"){ fV.push(fY.nodeName);fW.push(di(fY.nodeName, W("ws-on".length), null)+":"+fY.nodeValue.toLowerCase());} else if(!em(fY.nodeName, "ws-")&&(new RegExp(bd())).test(fY.nodeValue)){ let fZ=new RegExp(bd(), "g");let f0=fY.nodeValue.replace(fZ, (f4, f5) =>"${"+f5.toLowerCase()+"}");fY.nodeValue=f0;fX.push(fY.nodeName);} else void 0;} if(!(fW.length==0))fT.setAttribute("ws-on", ek(" ", fW));if(!(fX.length==0))fT.setAttribute("ws-attr-holes", ek(" ", fX));const f1=(f4) => { const f5=fT.getAttribute(f4);if(f5==null){ } else fT.setAttribute(f4, f5.toLowerCase());};f1("ws-hole");f1("ws-replace");f1("ws-attr");f1("ws-onafterrender");f1("ws-var");bH((f4) => { fT.removeAttribute(f4);}, fV);}
function di(fT, fU, fV){ if(fU==null){ if(fV!=null&&fV.$==1){ const fW=fV.$0;return fW<0?"":fT.slice(0, fW+1);} else return"";} else if(fV==null)return fT.slice(fU.$0);else { const fX=fV.$0;return fX<0?"":fT.slice(fU.$0, fX+1);} }
function dj(fT){ const fU=globalThis.document.createElement("div");if(!dl().test(fT)){ fU.appendChild(globalThis.document.createTextNode(fT));return fU;} else { const fV=dp().exec(fT);const fW=p(fV, null)?"":j(fV, 1).toLowerCase();const fX=(dm())[fW];const fY=fX?fX:dn();fU.innerHTML=fY[1]+fT.replace(do_1(), "<$1></$2>")+fY[2];function fZ(f0, f1){ while(true){ if(f1===0)return f0;else { const f2=f1;f0=f0.lastChild;f1=f2-1;} } } return fZ(fU, fY[0]);} }
function dk(fT){ const fU=[];for(let fV=0, fW=fT.childNodes.length-1;fV<=fW;fV++)fU.push(fT.childNodes[fV]);return fU;}
function dl(){ return eQ.rhtml;}
function dm(){ return eQ.wrapMap;}
function dn(){ return eQ.defaultWrap;}
function do_1(){ return eQ.rxhtmlTag;}
function dp(){ return eQ.rtagName;}
function dq(fT, fU, fV){ const fW=fT.querySelectorAll(fU);for(let fX=0, fY=fW.length-1;fX<=fY;fX++)fV(fW[fX]);}
function dr(fT, fU){ const fV=globalThis.document.querySelectorAll(fT);for(let fW=0, fX=fV.length-1;fW<=fX;fW++)fU(fV[fW]);}
function ds(fT, fU, fV){ let fW;if(fV.parentNode===fT){ const fX=fV.nextSibling;let fY=p(fX, null)?null:fX;fW=fU===fY;} else fW=false;if(!fW)fT.insertBefore(fV, fU);}
function dt(fT, fU){ if(fU.parentNode===fT)fT.removeChild(fU);}
function du(){ return e("The input sequence has an insufficient number of elements.");}
function dv(fT, fU){ let fV=true;let fW=0;while(fV&&fW<m(fU))if(p(fU[fW], fT))fV=false;else fW=fW+1;return!fV;}
function dw(){ return e("The input must be non-negative.");}
let dx=fK((fT) => class fU extends h { static { dx=fT(this);} d;GetEnumerator(){ return cu(br((fV) => fV.K, this.d));} constructor(fV){ super();this.d=fV;} });
function dy(){ return eF();}
function dz(fT){ const fU=null;return C(() => D(dB(() => { }, eG(fT)), () => { eH(fT);return E(null);}));}
function dA(fT, fU){ return dC(eS(fT.$0, fU.$0));}
function dB(fT, fU){ const fV=fU.Duration;if(fV===0)return M();else { const fW=(fX) => { function fY(fZ){ return(f0) => { const f1=f0-fZ;fU.Compute(f1);fT();return f1<=fV?void requestAnimationFrame((f2) => {(fY(fZ))(f2);}):fX();};} requestAnimationFrame((fZ) => {(fY(fZ))(fZ);});};return L((fX, fY, fZ) => fW.apply(null, [fX, fY, fZ]));} }
function dC(fT){ return{$:0, $0:fT};}
function dD(fT){ return dC(eU(br(eJ, fT)));}
function dE(){ return dC(eV());}
function dF(){ return eN.BatchUpdatesEnabled;}
function dG(fT){ const fU=[0];function fV(){ const fW=null;return C(() => D(fT, () => { const fX=fU[0];return p(fX, 1)?(fU[0]=0,M()):p(fX, 2)?(fU[0]=1,fV()):M();}));} return() => { const fW=fU[0];if(p(fW, 0)){ fU[0]=1;F(fV(), null);} else p(fW, 1)?fU[0]=2:void 0;};}
function dH(fT, fU, fV, fW){ const fX={DynElem:fT, DynFlags:fU, DynNodes:fV};fM(fX, "OnAfterRender", fW);return fX;}
function dI(fT){ let fU;const fV=fT.s;if(fV==null||(fV!=null&&fV.$==2?(fU=fV.$1,false):fV!=null&&fV.$==3?(fU=fV.$1,false):true))void 0;else { fT.s=null;for(let fX=0, fY=m(fU)-1;fX<=fY;fX++){ const fW=j(fU, fX);if(typeof fW=="object")(((fZ) => { dI(fZ);})(fW));else fW();} } }
function dJ(fT, fU){ const fV=[];const fW=[];function fX(f0){ while(true){ if(!(f0===null)){ if(f0!=null&&f0.$==1)return fV.push(f0.$0);else if(f0!=null&&f0.$==2){ const f1=f0.$1;const f2=f0.$0;fX(f2);f0=f1;} else return f0!=null&&f0.$==3?f0.$0(fT):f0!=null&&f0.$==4?fW.push(f0.$0):null;} else return null;} } fX(fU);const fY=fV.slice(0);let fZ=dH(fT, dM(fU), fY, fW.length===0?null:W((f0) => { bq((f1) => { f1(f0);}, fW);}));return fZ;}
function dK(fT){ return et((fU) => fU.NChanged, c4(), c_, fT.DynNodes);}
function dL(fT){ return dH(fT, 0, [], null);}
function dM(fT){ return fT!==null&&fT.hasOwnProperty("flags")?fT.flags:0;}
function dN(fT){ return ee.A3(fT);}
function dO(fT, fU){ return ee.A1(new eW(fT, fU));}
function dP(){ return eY.EmptyAttr;}
function dQ(fT){ const fU=2;return(fT.DynFlags&fU)===fU;}
function dR(fT){ return dX(fT, (fU, fV) => fU.NGetExitAnim(fV));}
function dS(fT){ const fU=1;return(fT.DynFlags&fU)===fU;}
function dT(fT){ return dX(fT, (fU, fV) => fU.NGetEnterAnim(fV));}
function dU(fT){ const fU=4;return(fT.DynFlags&fU)===fU;}
function dV(fT){ return dX(fT, (fU, fV) => fU.NGetChangeAnim(fV));}
function dW(fT, fU){ if(fT===null)return fU;else if(fU===null)return fT;else { const fV=ee.A2(fT, fU);dZ(fV, dM(fT)|dM(fU));return fV;} }
function dX(fT, fU){ return dD(bJ((fV) => fU(fV, fT.DynElem), fT.DynNodes));}
function dY(fT, fU){ bH((fV) => { fV.NSync(fT);}, fU.DynNodes);}
function dZ(fT, fU){ fT.flags=fU;}
let d0=fK((fT) => { fN(R);return class fU extends R { static { d0=fT(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let d1=fK((fT) => { fN(R);return class fU extends R { static { d1=fT(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} get AsChoiceView(){ return eh(this.fillWith);} };});
let d2=fK((fT) => { fN(R);return class fU extends R { static { d2=fT(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let d3=fK((fT) => { fN(R);return class fU extends R { static { d3=fT(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function d4(fT, fU){ return dN((fV) => { fV.addEventListener(fT, (fW) =>(fU(fV))(fW), false);});}
function d5(fT){ return ee.A4(fT);}
function d6(fT, fU){ return dO(fU, (fV) =>(fW) => fV.setAttribute(fT, fW));}
function d7(fT){ return eb(fn(), fT);}
function d8(fT){ return eb(fo(), fT);}
function d9(fT){ return eb(fp(), fT);}
function d_(fT){ return eb(fq(), fT);}
function d$(fT){ return eb(fr(), fT);}
function ea(fT){ return eb(fs(), fT);}
function eb(fT, fU){ const fV=fT(fU);return ee.Append(dN(fV[0]), ec(fV[1], fV[2]));}
function ec(fT, fU){ return dO(fU, fT);}
let ed=fK((fT) => { fN(R);return class fU extends R { static { ed=fT(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let ee=fK((fT) => class fU { static { ee=fT(this);} static Handler(fV, fW){ return ee.HandlerImpl(fV, fW);} static Concat(fV){ const fW=eu(fV);return es(dP(), ee.Append, fW);} static Create(fV, fW){ return dN((fX) => { fX.setAttribute(fV, fW);});} static HandlerImpl(fV, fW){ return dN((fX) => { fX.addEventListener(fV, (fY) =>(fW(fX))(fY), false);});} static Append(fV, fW){ return dW(fV, fW);} static A4(fV){ return fR(fU, {$:4, $0:fV});} static A3(fV){ return fR(fU, {$:3, $0:fV});} static A1(fV){ return fR(fU, {$:1, $0:fV});} static A2(fV, fW){ return fR(fU, {$:2, $0:fV, $1:fW});} });
let ef=fK((fT) => { fN(R);return class fU extends R { static { ef=fT(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let eg=fK((fT) => { fN(R);return class fU extends R { static { eg=fT(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function eh(fT){ return{$:0, $0:fT};}
function ei(fT){ return{$:1, $0:fT};}
let ej=fK((fT) => class fU { static { ej=fT(this);} static Cons(fV, fW){ return fR(fU, {$:1, $0:fV, $1:fW});} static Empty=fR(ej, {$:0});GetEnumerator(){ return new cy(this, null, (fV) => { const fW=fV.s;return fW.$==0?false:(fV.c=fW.$0,fV.s=fW.$1,true);}, void 0);} });
function ek(fT, fU){ return bL(fU).join(fT);}
function el(fT, fU, fV){ return en(fT, new RegExp("["+eo(fU.join(""))+"]"), fV);}
function em(fT, fU){ return fT.substring(0, fU.length)==fU;}
function en(fT, fU, fV){ return fV===1?bK((fW) => fW!=="", ep(fT, fU)):ep(fT, fU);}
function eo(fT){ return fT.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function ep(fT, fU){ return fT.split(fU);}
function eq(fT, fU){ return bA(fT, er(fU));}
function er(fT){ return fT==null?"":fT;}
function es(fT, fU, fV){ const fW=m(fV);function fX(fY){ return(fZ) => { let f0;switch(fZ<=0?0:fZ===1?fY>=0&&fY<fW?1:(f0=fZ,2):(f0=fZ,2)){ case 0:return fT;case 1:return j(fV, fY);case 2:const f1=fZ/2>>0;return fU((fX(fY))(f1), (fX(fY+f1))(fZ-f1));} };} return(fX(0))(fW);}
function et(fT, fU, fV, fW){ const fX=m(fW);function fY(fZ){ return(f0) => { let f1;switch(f0<=0?0:f0===1?fZ>=0&&fZ<fX?1:(f1=f0,2):(f1=f0,2)){ case 0:return fU;case 1:return fT(j(fW, fZ));case 2:const f2=f0/2>>0;return fV((fY(fZ))(f2), (fY(fZ+f2))(f0-f2));} };} return(fY(0))(fX);}
function eu(fT){ if(fT instanceof Array)return fT;else if(fT instanceof ej)return bN(fT);else if(fT===null)return[];else { const fU=[];const fV=cu(fT);try { while(fV.MoveNext())fU.push(fV.Current);return fU;} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} } }
let ev=fK((fT) => class fU { static { ev=fT(this);} c;s;v;static Create(fV){ let fW;fW=null;fW=ev.New(fV, null, () => { let fX;fX=fW.s;return fX===null?(fX=cc(fW.c()),fW.s=fX,cd(fX, () => { fW.s=null;}),fX):fX;});return fW;} static New(fV, fW, fX){ return fR(ev, {c:fV, s:fW, v:fX});} });
let ew=fK((fT) => class fU extends h { static { ew=fT(this);} d;GetEnumerator(){ return cu(br((fV) => fV.V, this.d));} constructor(fV){ super();this.d=fV;} });
function ex(fT, fU){ return{PreviousNodes:fT, Top:fU};}
function ey(){ return eA(new bm("New_3"));}
function ez(fT){ const fU=[];function fV(fY, fZ){ while(true)switch(fY){ case 0:if(fZ!=null&&fZ.$==0){ const f0=fZ.$1;const f1=fZ.$0;fV(0, f1);fZ=f0;} else if(fZ!=null&&fZ.$==1){ const f2=fZ.$0;fZ=f2;fY=1;} else if(fZ!=null&&fZ.$==2){ const f3=fZ.$0;fZ=f3.Current;} else if(fZ!=null&&fZ.$==6){ const f4=fZ.$0.Holes;return(((f5) =>(f6) => { bH(f5, f6);})(fX))(f4);} else return null;break;case 1:fU.push(fZ);fZ=fZ.Children;fY=0;break;} } function fW(fY){ return fV(0, fY);} function fX(fY){ return fV(1, fY);} fW(fT);return eA(new bm("New_2", fU));}
function eA(fT){ return{$:0, $0:fT};}
function eB(fT, fU){ return eA(e0(fT, fU.$0));}
function eC(fT, fU){ return eA(e1(fT.$0, fU.$0));}
function eD(fT){ return e2(fT.$0);}
function eE(fT, fU){ return eA(e3(fT.$0, fU.$0));}
function eF(){ return eR.UseAnimations;}
function eG(fT){ return eI(bC((fU) => fU.$==1?W(fU.$0):null, eT(fT.$0)));}
function eH(fT){ bH((fU) => { if(fU.$==0)fU.$0();}, eT(fT.$0));}
function eI(fT){ const fU=eu(fT);const fV=m(fU);if(fV===0)return eK();else if(fV===1)return j(fU, 0);else { const fW=bu(br((fY) => fY.Duration, fU));const fX=bJ((fY) => eM(fW, fY), fU);return eL(fW, (fY) => { bH((fZ) => { fZ.Compute(fY);}, fX);});} }
function eJ(fT){ return fT.$0;}
function eK(fT){ return eL(0, () => fT);}
function eL(fT, fU){ return{Compute:fU, Duration:fT};}
function eM(fT, fU){ const fV=fU.Compute;const fW=fU.Duration;const fX=fD(() => fU.Compute(fU.Duration));return{Compute:(fY) => fY>=fW?fX.f():fV(fY), Duration:fT};}
let eN=fK((fT) => class fU { static { eN=fT(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eO(fT){ let fU=[];let fV;for(var fW in fT)fU.push.apply(fU, fT[fW]);return fU;}
let eP=fK((fT) => class fU { static { eP=fT(this);} static counter;static { this.counter=0;} });
let eQ=fK((fT) => class fU { static { eQ=fT(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fV=[1, "<table>", "</table>"];let fW=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fV], ["tbody", fV], ["tfoot", fV], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fW;this.defaultWrap=[0, "", ""];} });
let eR=fK((fT) => class fU { static { eR=fT(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=eZ.Custom((fV) => { const fW=fV*fV;return 3*fW-2*(fW*fV);});this.UseAnimations=true;} });
function eS(fT, fU){ return fT.$==0?fU:fU.$==0?fT:{$:2, $0:fT, $1:fU};}
function eT(fT){ const fU=[];function fV(fW){ while(true){ if(fW.$==1)return fU.push(fW.$0);else if(fW.$==2){ const fX=fW.$1;const fY=fW.$0;fV(fY);fW=fX;} else return fW.$==3?bH((fZ) => { fU.push(fZ);}, fW.$0):null;} } fV(fT);return fU.slice(0);}
function eU(fT){ const fU=eu(fT);return es(eV(), eS, fU);}
function eV(){ return fG.Empty;}
let eW=fK((fT) => class fU extends h { static { eW=fT(this);} push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fV){ return dE();} NGetEnterAnim(fV){ return dE();} NGetChangeAnim(fV){ return dE();} NSync(fV){ if(this.dirty){(this.push(fV))(this.value);this.dirty=false;} } constructor(fV, fW){ super();this.push=fW;this.value=void 0;this.dirty=false;this.updates=c6((fX) => { this.value=fX;this.dirty=true;}, fV);} });
let eX=fK((fT) => { fN(Error);return class fU extends Error { static { eX=fT(this);} static New(){ return new this("New");} static New_1(fV){ return new this("New_1", fV);} constructor(fV, fW){ if(fV=="New"){ fV="New_1";fW="The given key was not present in the dictionary.";} if(fV=="New_1"){ const fX=fW;super(fX);} } };});
let eY=fK((fT) => class fU { static { eY=fT(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(f$) =>[(ga) => { ga.addEventListener("change", () => f$.Get()!=ga.checked?f$.Set(ga.checked):null);}, (ga) =>(gb) => gb!=null&&gb.$==1?void(ga.checked=gb.$0):null, c6(W, f$.View)];this.StringSet=(f$) =>(ga) => { f$.value=ga;};this.StringGet=(f$) => W(f$.value);const fV=e9();const fW=e8();this.StringApply=(f$) => e7(fV, fW, f$);this.StringListSet=(f$) =>(ga) => { const gb=f$.options;for(let gc=0, gd=gb.length-1;gc<=gd;gc++)((() => { const ge=gb.item(gc);ge.selected=dv(ge.value, ga);})());};this.StringListGet=(f$) => { const ga=f$.selectedOptions;return W(bL(bs(() => bt((gb) =>[ga.item(gb).value], g(0, ga.length-1)))));};const fX=e$();const fY=e_();this.StringListApply=(f$) => e7(fX, fY, f$);this.DateTimeSetUnchecked=(f$) =>(ga) => { f$.value=(new Date(ga)).toLocaleString();};this.DateTimeGetUnchecked=(f$) => { let ga;let gb;const gc=f$.value;if(ft(gc))return W(-8640000000000000);else { ga=0;const gd=fB(gc);let ge=gd!=null&&gd.$==1&&(ga=gd.$0,true);gb=[ge, ga];return gb[0]?W(gb[1]):null;} };const fZ=fb();const f0=fa();this.DateTimeApplyUnchecked=(f$) => e7(fZ, f0, f$);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(f$) => { const ga=f$.files;return W(bL(bs(() => br((gb) => ga.item(gb), g(0, ga.length-1)))));};const f1=fe();const f2=fd();this.FileApplyUnchecked=(f$) => fc(f1, f2, f$);this.IntSetUnchecked=(f$) =>(ga) => { f$.value=String(ga);};this.IntGetUnchecked=(f$) => { const ga=f$.value;if(ft(ga))return W(0);else { const gb=+ga;return gb!==gb>>0?null:W(gb);} };const f3=fg();const f4=ff();this.IntApplyUnchecked=(f$) => e7(f3, f4, f$);this.IntSetChecked=(f$) =>(ga) => { const gb=ga.Input;return f$.value!=gb?void(f$.value=gb):null;};this.IntGetChecked=(f$) => { let ga;let gb;const gc=f$.value;if(ft(gc))ga=(f$.checkValidity?f$.checkValidity():true)?fu.Blank(gc):fu.Invalid(gc);else { const gd=(gb=0,[b6(gc, {get:() => gb, set:(ge) => { gb=ge;}}), gb]);ga=gd[0]?fu.Valid(gd[1], gc):fu.Invalid(gc);} return W(ga);};const f5=fi();const f6=fh();this.IntApplyChecked=(f$) => e7(f5, f6, f$);this.FloatSetUnchecked=(f$) =>(ga) => { f$.value=String(ga);};this.FloatGetUnchecked=(f$) => { const ga=f$.value;if(ft(ga))return W(0);else { const gb=+ga;return isNaN(gb)?null:W(gb);} };const f7=fk();const f8=fj();this.FloatApplyUnchecked=(f$) => e7(f7, f8, f$);this.FloatSetChecked=(f$) =>(ga) => { const gb=ga.Input;return f$.value!=gb?void(f$.value=gb):null;};this.FloatGetChecked=(f$) => { let ga;const gb=f$.value;if(ft(gb))ga=(f$.checkValidity?f$.checkValidity():true)?fu.Blank(gb):fu.Invalid(gb);else { const gc=+gb;ga=isNaN(gc)?fu.Invalid(gb):fu.Valid(gc, gb);} return W(ga);};const f9=fm();const f_=fl();this.FloatApplyChecked=(f$) => e7(f9, f_, f$);} });
let eZ=fK((fT) => class fU extends h { static { eZ=fT(this);} transformTime;static Custom(fV){ return new fU(fV);} constructor(fV){ super();this.transformTime=fV;} });
function e0(fT, fU){ return new bm("New_2", bK(fT, e2(fU)));}
function e1(fT, fU){ const fV=new bm("New_2", e2(fU));fV.ExceptWith(e2(fT));return fV;}
function e2(fT){ const fU=bP(fT.Count, void 0);fT.CopyTo(fU, 0);return fU;}
function e3(fT, fU){ const fV=new bm("New_2", e2(fT));fV.IntersectWith(e2(fU));return fV;}
function e4(fT){ return fT.$==1?fT.$0:e6();}
function e5(fT){ return fT.$==1?fT.$1:e6();}
function e6(){ return e("The input list was empty.");}
function e7(fT, fU, fV){ let fW;fW=null;return[(fX) => { const fY=() => { fV.UpdateMaybe((fZ) => { let f0;fW=fT(fX);return fW!=null&&fW.$==1&&(!p(fW.$0, fZ)&&(f0=[fW, fW.$0],true))?f0[0]:null;});};fX.addEventListener("change", fY);fX.addEventListener("input", fY);fX.addEventListener("keypress", fY);}, (fX) => { const fY=fU(fX);return(fZ) => fZ==null?null:fY(fZ.$0);}, c6((fX) => { let fY;return fW!=null&&fW.$==1&&(p(fW.$0, fX)&&(fY=fW.$0,true))?null:W(fX);}, fV.View)];}
function e8(){ return eY.StringSet;}
function e9(){ return eY.StringGet;}
function e_(){ return eY.StringListSet;}
function e$(){ return eY.StringListGet;}
function fa(){ return eY.DateTimeSetUnchecked;}
function fb(){ return eY.DateTimeGetUnchecked;}
function fc(fT, fU, fV){ let fW;fW=null;return[(fX) => { fX.addEventListener("change", () => { fV.UpdateMaybe((fY) => { let fZ;fW=fT(fX);return fW!=null&&fW.$==1&&(fW.$0!==fY&&(fZ=[fW, fW.$0],true))?fZ[0]:null;});});}, (fX) => { const fY=fU(fX);return(fZ) => fZ==null?null:fY(fZ.$0);}, c6((fX) => { let fY;return fW!=null&&fW.$==1&&(p(fW.$0, fX)&&(fY=fW.$0,true))?null:W(fX);}, fV.View)];}
function fd(){ return eY.FileSetUnchecked;}
function fe(){ return eY.FileGetUnchecked;}
function ff(){ return eY.IntSetUnchecked;}
function fg(){ return eY.IntGetUnchecked;}
function fh(){ return eY.IntSetChecked;}
function fi(){ return eY.IntGetChecked;}
function fj(){ return eY.FloatSetUnchecked;}
function fk(){ return eY.FloatGetUnchecked;}
function fl(){ return eY.FloatSetChecked;}
function fm(){ return eY.FloatGetChecked;}
function fn(){ return eY.StringApply;}
function fo(){ return eY.FloatApplyUnchecked;}
function fp(){ return eY.BoolCheckedApply;}
function fq(){ return eY.DateTimeApplyUnchecked;}
function fr(){ return eY.FileApplyUnchecked;}
function fs(){ return eY.StringListApply;}
function ft(fT){ return eq(fA, fT);}
let fu=fK((fT) => class fU { static { fu=fT(this);} get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fV){ return fR(fU, {$:2, $0:fV});} static Invalid(fV){ return fR(fU, {$:1, $0:fV});} static Valid(fV, fW){ return fR(fU, {$:0, $0:fV, $1:fW});} });
function fv(fT, fU){ let fV;if(fU!=null&&fU.$==1){ const fW=[];fV=fU.$0[0].nextSibling;while(fV!==fU.$0[1]){ fW.push(fV);fV=fV.nextSibling;} return fz(fW);} else { let fX=fT.childNodes.length;const fY=fT.childNodes;let fZ=bQ(fX, (f0) => fY[f0]);return fz(fZ);} }
function fw(fT, fU){ const fV=fT.$0;return fz(bK((fW) => bO((fX) =>!(fW===fX), fV), fU.$0));}
function fx(fT, fU){ bH(fT, fU.$0);}
function fy(fT){ const fU=[];function fV(fW){ while(true){ if(fW!=null&&fW.$==2){ const fX=fW.$0;fW=fX.Current;} else if(fW!=null&&fW.$==1)return fU.push(fW.$0.El);else if(fW==null)return null;else if(fW!=null&&fW.$==5)return fU.push(fW.$0);else if(fW!=null&&fW.$==4)return fU.push(fW.$0.Text);else if(fW!=null&&fW.$==6){ const fY=fW.$0.Els;return(((f1) =>(f2) => { bH(f1, f2);})((f1) => { if(f1==null||f1.constructor===Object)fV(f1);else fU.push(f1);}))(fY);} else { const fZ=fW.$1;const f0=fW.$0;fV(f0);fW=fZ;} } } fV(fT.Children);return fz(eu(fU));}
function fz(fT){ return{$:0, $0:fT};}
function fA(fT){ return fT.match(new RegExp("\\s"))!==null;}
function fB(fT){ const fU=Date.parse(fT);return isNaN(fU)?null:W(fU);}
function fC(fT, fU, fV, fW){ const fX=+fT;const fY=fX===fX-fX%1&&fX>=fU&&fX<=fV;if(fY)fW.set(fX);return fY;}
function fD(fT){ return fI(false, fT, fE);}
function fE(){ const fT=this.v();this.c=true;this.v=fT;this.f=fF;return fT;}
function fF(){ return this.v;}
let fG=fK((fT) => class fU { static { fG=fT(this);} static Empty;static { this.Empty={$:0};} });
function fH(fT){ fT.splice(0, m(fT));}
function fI(fT, fU, fV){ return{c:fT, v:fU, f:fV};}
fS(() => { b();});
fJ();

